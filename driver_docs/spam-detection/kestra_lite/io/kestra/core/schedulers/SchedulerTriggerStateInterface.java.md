<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Interface for managing trigger states in a scheduler, including methods for finding, saving, and updating triggers.

# Purpose
The `SchedulerTriggerStateInterface` defines a contract for managing `Trigger` objects within a scheduling system. It provides methods to find, save, create, update, and unlock triggers, as well as to retrieve triggers based on their next execution date. The interface supports operations across multiple tenants and is designed to handle triggers in a distributed environment, as indicated by methods required for Kafka. It includes exception handling for constraint violations during save and create operations, ensuring data integrity.
# Imports and Dependencies

---
- `io.kestra.core.schedulers`
- `io.kestra.core.models.conditions.ConditionContext`
- `io.kestra.core.models.flows.Flow`
- `io.kestra.core.models.triggers.AbstractTrigger`
- `io.kestra.core.models.triggers.Trigger`
- `io.kestra.core.models.triggers.TriggerContext`
- `jakarta.validation.ConstraintViolationException`
- `java.time.ZonedDateTime`
- `java.util.List`
- `java.util.Optional`


# Interfaces

---
### SchedulerTriggerStateInterface<!-- {{#interface:io.kestra.core.schedulers.SchedulerTriggerStateInterface}} -->
[View Source →](<../../../../../../../kestra_lite/io/kestra/core/schedulers/SchedulerTriggerStateInterface.java#L14>)

- **Description**: Defines methods for managing and querying `Trigger` objects within a scheduling context. It includes operations to find, save, create, update, and unlock triggers. The `findLast` method retrieves the most recent trigger based on a given `TriggerContext`. The `findAllForAllTenants` method returns all triggers across tenants. The `save` and `create` methods persist a trigger, with `save` also requiring a `ScheduleContextInterface`. The `update` method has two overloads: one updates a trigger directly, and the other updates based on a `Flow`, `AbstractTrigger`, and `ConditionContext`. The interface also provides methods to find triggers ready for execution by a specific date, either for all tenants or specific flows, which is necessary for Kafka integration. The `unlock` method releases a lock on a trigger.

**Methods**
- `findLast`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.findLast}} -->
- `findAllForAllTenants`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.findAllForAllTenants}} -->
- `save`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.save}} -->
- `create`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.create}} -->
- `update`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.update}} -->
- `update`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.update}} -->
- `findByNextExecutionDateReadyForAllTenants`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.findByNextExecutionDateReadyForAllTenants}} -->
- `findByNextExecutionDateReadyForGivenFlows`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.findByNextExecutionDateReadyForGivenFlows}} -->
- `unlock`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.unlock}} -->



---
Made with ❤️ by [Driver](https://www.driver.ai/)