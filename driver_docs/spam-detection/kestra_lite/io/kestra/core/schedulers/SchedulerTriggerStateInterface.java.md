<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Interface for managing trigger states in a scheduler, including finding, saving, and updating triggers.

# Purpose
The `SchedulerTriggerStateInterface` defines a contract for managing trigger states within a scheduling system. It provides methods to find, save, create, update, and unlock `Trigger` objects, which are essential for scheduling workflows. The interface includes methods to retrieve triggers based on execution dates, both for all tenants and specific flows, which is necessary for systems using Kafka. It also handles exceptions such as `ConstraintViolationException` to ensure data integrity during operations. This interface offers narrow functionality focused on trigger state management within a multi-tenant scheduling context.
# Imports and Dependencies

---
- `io.kestra.core.schedulers`
- `io.kestra.core.models.conditions.ConditionContext`
- `io.kestra.core.models.flows.Flow`
- `io.kestra.core.models.triggers.AbstractTrigger`
- `io.kestra.core.models.triggers.Trigger`
- `io.kestra.core.models.triggers.TriggerContext`
- `jakarta.validation.ConstraintViolationException`
- `java.time.ZonedDateTime`
- `java.util.List`
- `java.util.Optional`


# Interfaces

---
### SchedulerTriggerStateInterface<!-- {{#interface:io.kestra.core.schedulers.SchedulerTriggerStateInterface}} -->
[View Source →](<../../../../../../../kestra_lite/io/kestra/core/schedulers/SchedulerTriggerStateInterface.java#L14>)

- **Description**: Defines methods for managing and querying `Trigger` objects within a scheduling context. It includes operations to find, save, create, update, and unlock triggers. The `findLast` method retrieves the most recent `Trigger` for a given `TriggerContext`. The `findAllForAllTenants` method returns all triggers across tenants. The `save` and `create` methods persist a `Trigger` and may throw a `ConstraintViolationException` if validation fails. The `update` methods modify existing triggers, with one variant accepting a `Flow`, `AbstractTrigger`, and `ConditionContext`. The `findByNextExecutionDateReadyForAllTenants` and `findByNextExecutionDateReadyForGivenFlows` methods identify triggers ready for execution based on the current time and scheduling context, with the latter specifically required for Kafka integration. The `unlock` method releases a lock on a `Trigger`.

**Methods**
- `findLast`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.findLast}} -->
- `findAllForAllTenants`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.findAllForAllTenants}} -->
- `save`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.save}} -->
- `create`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.create}} -->
- `update`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.update}} -->
- `update`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.update}} -->
- `findByNextExecutionDateReadyForAllTenants`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.findByNextExecutionDateReadyForAllTenants}} -->
- `findByNextExecutionDateReadyForGivenFlows`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.findByNextExecutionDateReadyForGivenFlows}} -->
- `unlock`<!-- {{#callable:io.kestra.core.schedulers.SchedulerTriggerStateInterface.unlock}} -->



---
Made with ❤️ by [Driver](https://www.driver.ai/)