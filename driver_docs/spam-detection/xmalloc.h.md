<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Memory allocation functions that check results and call fatal on error, ensuring no failure returns.

# Purpose
The code is a C header file that declares a set of memory management and string manipulation functions with enhanced error checking. These functions, such as [`xmalloc`](<#xmalloc>), [`xcalloc`](<#xcalloc>), [`xrealloc`](<#xrealloc>), and [`xstrdup`](<#xstrdup>), are designed to handle memory allocation and reallocation, ensuring that they do not return failure. Instead, they call a fatal error handler if an error occurs. The file also includes functions like [`xasprintf`](<#xasprintf>) and [`xsnprintf`](<#xsnprintf>) for formatted string operations, which include attributes for format checking and non-null parameters to enhance safety and correctness. The header uses conditional compilation to define the `__bounded__` macro if it is not already defined, ensuring compatibility across different environments.
# Function Declarations (Public API)

---
### xmalloc<!-- {{#callable_declaration:xmalloc}} -->
[View Source →](<../../xmalloc.h#L26>)

Allocates memory and checks for allocation success.
- **Description**: Use this function to allocate a specified amount of memory. It ensures that the allocation is successful by terminating the program if the allocation fails or if the requested size is zero. This function is useful in scenarios where memory allocation failure is considered a critical error and should not be handled by the caller.
- **Inputs**:
    - `size`: Specifies the number of bytes to allocate. Must be greater than zero. If zero, the function will terminate the program.
- **Output**: Returns a pointer to the allocated memory block. The program terminates if the allocation fails.
- **See Also**: [`xmalloc`](<xmalloc.c.md#xmalloc>)  (Implementation)


---
### xcalloc<!-- {{#callable_declaration:xcalloc}} -->
[View Source →](<../../xmalloc.h#L27>)

Allocates memory for an array and checks for allocation errors.
- **Description**: Use this function to allocate memory for an array with a specified number of elements and element size. It ensures that the allocation does not fail by terminating the program if memory cannot be allocated. This function is useful when you want to guarantee that memory allocation is successful, as it will not return a null pointer. Call this function when you need to allocate memory and handle allocation errors by terminating the program. Ensure that neither `nmemb` nor `size` is zero before calling this function.
- **Inputs**:
    - `nmemb`: The number of elements to allocate. Must be greater than zero. If zero, the function will terminate the program.
    - `size`: The size of each element in bytes. Must be greater than zero. If zero, the function will terminate the program.
- **Output**: A pointer to the allocated memory block. The program terminates if allocation fails.
- **See Also**: [`xcalloc`](<xmalloc.c.md#xcalloc>)  (Implementation)


---
### xrealloc<!-- {{#callable_declaration:xrealloc}} -->
[View Source →](<../../xmalloc.h#L28>)

Reallocates memory to a new size.
- **Description**: Use this function to change the size of a previously allocated memory block. It is useful when you need to expand or shrink a memory allocation. The function does not return on failure; instead, it terminates the program. This behavior ensures that the caller does not need to check for null pointers after calling this function. Ensure that the pointer provided was previously allocated by a compatible memory allocation function.
- **Inputs**:
    - `ptr`: A pointer to the memory block to reallocate. It must be a valid pointer obtained from a compatible memory allocation function or null.
    - `size`: The new size for the memory block in bytes. It must be a non-zero value.
- **Output**: A pointer to the reallocated memory block, which is guaranteed to be non-null.
- **See Also**: [`xrealloc`](<xmalloc.c.md#xrealloc>)  (Implementation)


---
### xreallocarray<!-- {{#callable_declaration:xreallocarray}} -->
[View Source →](<../../xmalloc.h#L29>)

Reallocates memory for an array with error checking.
- **Description**: Use this function to resize an existing memory block for an array, ensuring that the operation does not fail silently. It is suitable when you need to change the size of an array and want to handle errors by terminating the program if the allocation fails. This function checks if the number of elements or the size of each element is zero and will terminate the program if so. It also terminates the program if the memory allocation fails, ensuring that the caller does not need to check for null pointers.
- **Inputs**:
    - `ptr`: Pointer to the memory block to resize. Can be null, in which case it behaves like `malloc`.
    - `nmemb`: Number of elements in the array. Must be greater than zero; otherwise, the program will terminate.
    - `size`: Size of each element in bytes. Must be greater than zero; otherwise, the program will terminate.
- **Output**: Returns a pointer to the newly allocated memory block. The program terminates if allocation fails.
- **See Also**: [`xreallocarray`](<xmalloc.c.md#xreallocarray>)  (Implementation)


---
### xrecallocarray<!-- {{#callable_declaration:xrecallocarray}} -->
[View Source →](<../../xmalloc.h#L30>)

Reallocates and zeroes memory for an array.
- **Description**: Use this function to resize an existing memory block for an array while ensuring that any newly allocated memory is zeroed. It is useful when you need to increase or decrease the size of an array and want to ensure that the new memory is initialized to zero. This function does not return on failure; instead, it terminates the program. It is important to ensure that `nmemb` and `size` are not zero before calling this function, as zero values will cause the program to terminate.
- **Inputs**:
    - `ptr`: Pointer to the existing memory block to resize. Can be NULL if allocating a new block.
    - `oldnmemb`: Number of elements in the existing memory block. Must be a valid size.
    - `nmemb`: New number of elements for the memory block. Must not be zero.
    - `size`: Size of each element in bytes. Must not be zero.
- **Output**: Returns a pointer to the reallocated memory block. The program terminates on allocation failure.
- **See Also**: [`xrecallocarray`](<xmalloc.c.md#xrecallocarray>)  (Implementation)


---
### xstrdup<!-- {{#callable_declaration:xstrdup}} -->
[View Source →](<../../xmalloc.h#L31>)

Duplicates a string with error handling.
- **Description**: Use this function to create a duplicate of a given string. It allocates memory for the new string and copies the content from the input string. If memory allocation fails, the function will terminate the program. This function is useful when you need a copy of a string that is independent of the original. Ensure that the input string is not null to avoid undefined behavior.
- **Inputs**:
    - `str`: A pointer to a null-terminated string to duplicate. Must not be null. The caller retains ownership of the original string.
- **Output**: Returns a pointer to the newly allocated duplicate string. The caller is responsible for freeing this memory.
- **See Also**: [`xstrdup`](<xmalloc.c.md#xstrdup>)  (Implementation)


---
### xstrndup<!-- {{#callable_declaration:xstrndup}} -->
[View Source →](<../../xmalloc.h#L32>)

Duplicates a string up to a specified maximum length.
- **Description**: Use this function to create a duplicate of a string with a maximum length limit. It is useful when you need to ensure that the copied string does not exceed a certain size. The function will terminate the program if memory allocation fails, so it is important to use it in contexts where such behavior is acceptable. This function is part of a set of memory allocation utilities that do not return on failure.
- **Inputs**:
    - `str`: The source string to duplicate. Must not be null, as the function does not handle null pointers.
    - `maxlen`: The maximum number of characters to duplicate from the source string. Must be a non-negative value.
- **Output**: Returns a pointer to the newly allocated string, which is a duplicate of the input string up to the specified maximum length. The caller is responsible for freeing the allocated memory.
- **See Also**: [`xstrndup`](<xmalloc.c.md#xstrndup>)  (Implementation)


---
### xasprintf<!-- {{#callable_declaration:xasprintf}} -->
[View Source →](<../../xmalloc.h#L33>)

Formats a string and allocates memory for it.
- **Description**: Use this function to format a string according to a specified format and store the result in a newly allocated memory buffer. It is useful when you need a formatted string but do not know the required buffer size in advance. The function allocates memory for the resulting string and assigns the pointer to the provided location. It never returns a failure; instead, it calls a fatal error handler if memory allocation fails. Ensure that the format string is valid and that the function is called with the correct number of arguments corresponding to the format specifiers.
- **Inputs**:
    - `ret`: A pointer to a char pointer where the function will store the address of the newly allocated string. Must not be null. The caller is responsible for freeing the allocated memory.
    - `fmt`: A format string that specifies how to format the output. Must not be null. The format string follows the same specifications as printf.
    - `...`: Additional arguments that correspond to the format specifiers in the format string. The number and types of these arguments must match the format specifiers.
- **Output**: Returns the number of characters printed, excluding the null terminator. If memory allocation fails, the function does not return and instead calls a fatal error handler.
- **See Also**: [`xasprintf`](<xmalloc.c.md#xasprintf>)  (Implementation)


---
### xvasprintf<!-- {{#callable_declaration:xvasprintf}} -->
[View Source →](<../../xmalloc.h#L36>)

Formats a string and allocates memory for it.
- **Description**: Use this function to format a string with variable arguments and allocate memory for the resulting string. It is similar to `vasprintf`, but it will terminate the program if memory allocation fails. This function is useful when you want to ensure that the program does not continue execution in the event of a memory allocation error. Ensure that the format string is not null before calling this function.
- **Inputs**:
    - `ret`: A pointer to a char pointer where the function will store the address of the allocated string. The caller must ensure this pointer is valid and will receive ownership of the allocated memory.
    - `fmt`: A format string that specifies how to format the output. It must not be null.
    - `ap`: A `va_list` containing the variable arguments to format according to the format string. The caller must initialize this list before passing it to the function.
- **Output**: Returns the number of characters printed (excluding the null byte used to end output to strings) or terminates the program if memory allocation fails.
- **See Also**: [`xvasprintf`](<xmalloc.c.md#xvasprintf>)  (Implementation)


---
### xsnprintf<!-- {{#callable_declaration:xsnprintf}} -->
[View Source →](<../../xmalloc.h#L39>)

Formats and stores a series of characters and values in a buffer.
- **Description**: Use this function to format a string and store it in a buffer, similar to `snprintf`, but with additional safety checks. It requires a format string and a variable number of arguments to format. Ensure the buffer is large enough to hold the formatted string, including the null terminator. The function returns the number of characters that would have been written if the buffer had been sufficiently large, not counting the null terminator. If the return value is greater than or equal to the buffer size, the output is truncated.
- **Inputs**:
    - `str`: A pointer to the buffer where the formatted string will be stored. Must not be null, and the caller must ensure it points to a valid memory area of at least `len` bytes.
    - `len`: The size of the buffer `str` in bytes. Must be large enough to store the formatted string and a null terminator.
    - `fmt`: A format string that specifies how to format the subsequent arguments. Must not be null.
- **Output**: Returns the number of characters that would have been written if the buffer had been sufficiently large, excluding the null terminator. If the return value is greater than or equal to `len`, the output is truncated.
- **See Also**: [`xsnprintf`](<xmalloc.c.md#xsnprintf>)  (Implementation)


---
### xvsnprintf<!-- {{#callable_declaration:xvsnprintf}} -->
[View Source →](<../../xmalloc.h#L43>)

Formats a string with variable arguments into a buffer.
- **Description**: Use this function to format a string with a variable argument list and store the result in a buffer. It is important to ensure that the buffer length does not exceed `INT_MAX`, as this will cause the function to terminate the program. The function will also terminate the program if the formatted string length is greater than or equal to the buffer length, preventing buffer overflow. This function is useful when you need to format strings safely with variable arguments, ensuring that the buffer is not overrun.
- **Inputs**:
    - `str`: A pointer to the buffer where the formatted string will be stored. The buffer must be large enough to hold the resulting string and must not be null.
    - `len`: The size of the buffer pointed to by `str`. It must be greater than 0 and not exceed `INT_MAX`. If `len` is greater than `INT_MAX`, the function will terminate the program.
    - `fmt`: A format string that specifies how to format the variable arguments. It must not be null.
    - `ap`: A `va_list` containing the variable arguments to format according to `fmt`. The caller must initialize this list before passing it to the function.
- **Output**: Returns the number of characters written to the buffer, excluding the null terminator. If the return value is negative or greater than or equal to `len`, the function will terminate the program.
- **See Also**: [`xvsnprintf`](<xmalloc.c.md#xvsnprintf>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)