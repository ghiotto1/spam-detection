<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Functions for creating, comparing, and converting chess moves to and from UCI strings.

# Purpose
This code provides functionality for handling chess moves within a chess application. It includes functions to create and manipulate chess moves, specifically focusing on the representation and conversion of moves to and from the Universal Chess Interface (UCI) format. The code defines several functions: [`moveSq`](<#movesq>) and [`movePromote`](<#movepromote>) for creating moves, [`moveEq`](<#moveeq>) for comparing two moves, [`moveGetUci`](<#movegetuci>) for converting a move to a UCI string, and [`moveFromUci`](<#movefromuci>) for creating a move from a UCI string. The `move` structure is used to represent a chess move, including the starting and ending squares and any promotion piece type.

The code is part of a larger library, as indicated by the inclusion of the header file `chesslib/move.h`. It does not define a public API but provides utility functions that can be used by other parts of the chess application to handle move-related operations. The functions handle both standard moves and moves involving piece promotion, and they support conversion to and from the UCI format, which is a standard notation for recording chess moves. The code assumes the existence of other functions and types, such as `sqEq`, `sqGetStr`, and `pieceTypeGetLetter`, which are likely defined elsewhere in the chess library.
# Imports and Dependencies

---
- `stdio.h`
- `stdlib.h`
- `ctype.h`
- `chesslib/move.h`


# Functions

---
### moveSq<!-- {{#callable:moveSq}} -->
[View Source →](<../../../../../chesslib/src/chesslib/move.c#L12>)

Creates a move from one square to another without promotion.
- **Inputs**:
    - `from`: The starting square of the move.
    - `to`: The destination square of the move.
- **Logic and Control Flow**:
    - Calls the [`movePromote`](<#movepromote>) function with `from`, `to`, and `ptEmpty` as arguments.
    - Returns the result of the [`movePromote`](<#movepromote>) function call.
- **Output**: A `move` structure representing the move from the `from` square to the `to` square without any promotion.
- **Functions Called**:
    - [`movePromote`](<#movepromote>)


---
### movePromote<!-- {{#callable:movePromote}} -->
[View Source →](<../../../../../chesslib/src/chesslib/move.c#L17>)

Creates a `move` structure with specified starting and ending squares and a promotion piece type.
- **Inputs**:
    - `from`: The starting square of the move.
    - `to`: The ending square of the move.
    - `promotion`: The type of piece to promote to, if applicable.
- **Logic and Control Flow**:
    - Declare a `move` variable `m`.
    - Assign the `from` parameter to `m.from`.
    - Assign the `to` parameter to `m.to`.
    - Assign the `promotion` parameter to `m.promotion`.
    - Return the `move` structure `m`.
- **Output**: A `move` structure initialized with the given `from`, `to`, and `promotion` values.


---
### moveEq<!-- {{#callable:moveEq}} -->
[View Source →](<../../../../../chesslib/src/chesslib/move.c#L28>)

Compares two `move` structures to determine if they are equal based on their `from`, `to`, and `promotion` fields.
- **Inputs**:
    - `m1`: The first `move` structure to compare.
    - `m2`: The second `move` structure to compare.
- **Logic and Control Flow**:
    - Calls [`sqEq`](<square.c.md#sqeq>) to compare the `from` fields of `m1` and `m2` for equality.
    - Calls [`sqEq`](<square.c.md#sqeq>) to compare the `to` fields of `m1` and `m2` for equality.
    - Checks if the `promotion` fields of `m1` and `m2` are equal.
    - Returns the logical AND of the three comparisons.
- **Output**: Returns `1` (true) if all compared fields are equal, otherwise returns `0` (false).
- **Functions Called**:
    - [`sqEq`](<square.c.md#sqeq>)


---
### moveGetUci<!-- {{#callable:moveGetUci}} -->
[View Source →](<../../../../../chesslib/src/chesslib/move.c#L34>)

Converts a chess move into its UCI (Universal Chess Interface) string representation.
- **Inputs**:
    - `m`: A `move` structure containing the source square, destination square, and optional promotion piece type.
- **Logic and Control Flow**:
    - Initialize a character array `p` with two elements set to 0.
    - Check if the move has a promotion piece; if so, convert the promotion piece type to a lowercase letter and store it in `p[0]`.
    - Allocate memory for the UCI string: 6 characters if there is a promotion, otherwise 5 characters.
    - Use `sprintf` to format the UCI string by concatenating the string representations of the source square, destination square, and promotion piece (if any).
    - Return the formatted UCI string.
- **Output**: A dynamically allocated string representing the UCI format of the move, which must be freed by the caller.
- **Functions Called**:
    - [`pieceTypeGetLetter`](<piece.c.md#piecetypegetletter>)
    - [`sqGetStr`](<square.c.md#sqgetstr>)


---
### moveFromUci<!-- {{#callable:moveFromUci}} -->
[View Source →](<../../../../../chesslib/src/chesslib/move.c#L55>)

Converts a UCI string into a `move` structure representing a chess move.
- **Inputs**:
    - `uci`: A string in UCI format representing a chess move, which includes the starting and ending squares and optionally a promotion piece.
- **Logic and Control Flow**:
    - Extracts the starting square from the first two characters of `uci` and stores it in `from`.
    - Extracts the ending square from the next two characters of `uci` and stores it in `to`.
    - Checks the fifth character of `uci` to determine if there is a promotion piece and assigns the corresponding `pieceType` to `promotion`.
    - Creates a `move` structure `m` and assigns the converted starting and ending squares and promotion piece to it.
    - Returns the `move` structure `m`.
- **Output**: A `move` structure containing the starting square, ending square, and promotion piece (if any) derived from the UCI string.
- **Functions Called**:
    - [`sqS`](<square.c.md#sqs>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)