<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Implements functions for chess move operations, including UCI string conversion and move comparison.

# Purpose
The code provides functionality for handling chess moves within a chess application. It includes functions to create, compare, and convert chess moves to and from the Universal Chess Interface (UCI) format. The code defines several functions that operate on a `move` data structure, which includes fields for the starting square (`from`), the destination square (`to`), and an optional promotion piece type (`promotion`).

The [`moveSq`](<#movesq>) and [`movePromote`](<#movepromote>) functions create `move` objects, with [`movePromote`](<#movepromote>) allowing for the specification of a promotion piece. The [`moveEq`](<#moveeq>) function compares two `move` objects to determine if they are equivalent. The [`moveGetUci`](<#movegetuci>) function converts a `move` to a UCI string, which is a standard format for representing chess moves. Conversely, the [`moveFromUci`](<#movefromuci>) function parses a UCI string to create a `move` object. The code relies on external functions and types, such as `sqEq`, `sqGetStr`, and `pieceTypeGetLetter`, which are likely defined in the included `chesslib/move.h` header or other related files.
# Imports and Dependencies

---
- `stdio.h`
- `stdlib.h`
- `ctype.h`
- `chesslib/move.h`


# Functions

---
### moveSq<!-- {{#callable:moveSq}} -->
[View Source →](<../../../../../chesslib/src/chesslib/move.c#L12>)

Creates a move from one square to another without promotion.
- **Inputs**:
    - `from`: The starting square of the move.
    - `to`: The destination square of the move.
- **Logic and Control Flow**:
    - Calls the [`movePromote`](<#movepromote>) function with `from`, `to`, and `ptEmpty` as arguments.
    - Returns the result of the [`movePromote`](<#movepromote>) function call.
- **Output**: A `move` structure representing the move from the `from` square to the `to` square without any promotion.
- **Functions Called**:
    - [`movePromote`](<#movepromote>)


---
### movePromote<!-- {{#callable:movePromote}} -->
[View Source →](<../../../../../chesslib/src/chesslib/move.c#L17>)

Creates a `move` structure with specified starting and ending squares and a promotion piece type.
- **Inputs**:
    - `from`: The starting square of the move.
    - `to`: The ending square of the move.
    - `promotion`: The type of piece to promote to, if applicable.
- **Logic and Control Flow**:
    - Declare a `move` variable `m`.
    - Assign the `from` parameter to `m.from`.
    - Assign the `to` parameter to `m.to`.
    - Assign the `promotion` parameter to `m.promotion`.
    - Return the `move` structure `m`.
- **Output**: A `move` structure initialized with the given `from`, `to`, and `promotion` values.


---
### moveEq<!-- {{#callable:moveEq}} -->
[View Source →](<../../../../../chesslib/src/chesslib/move.c#L28>)

Compares two chess moves to determine if they are identical in terms of starting square, ending square, and promotion piece.
- **Inputs**:
    - `m1`: The first move to compare, represented as a `move` structure.
    - `m2`: The second move to compare, represented as a `move` structure.
- **Logic and Control Flow**:
    - Calls [`sqEq`](<square.c.md#sqeq>) to compare the `from` squares of `m1` and `m2` for equality.
    - Calls [`sqEq`](<square.c.md#sqeq>) to compare the `to` squares of `m1` and `m2` for equality.
    - Checks if the `promotion` fields of `m1` and `m2` are equal.
    - Returns the logical AND of the three comparisons to indicate if the moves are identical.
- **Output**: Returns a `uint8_t` value of 1 if the moves are identical, otherwise returns 0.
- **Functions Called**:
    - [`sqEq`](<square.c.md#sqeq>)


---
### moveGetUci<!-- {{#callable:moveGetUci}} -->
[View Source →](<../../../../../chesslib/src/chesslib/move.c#L34>)

Converts a chess move into its UCI (Universal Chess Interface) string representation.
- **Inputs**:
    - `m`: A `move` structure containing the starting square (`from`), ending square (`to`), and optional promotion piece (`promotion`).
- **Logic and Control Flow**:
    - Initialize a character array `p` with two elements set to 0.
    - Check if the move has a promotion piece.
    - If there is a promotion, convert the promotion piece to a lowercase letter and store it in `p[0]`, then allocate memory for a 6-character string.
    - If there is no promotion, allocate memory for a 5-character string.
    - Use `sprintf` to format the move into the UCI string format, combining the string representations of the `from` and `to` squares and the promotion piece if present.
    - Return the formatted UCI string.
- **Output**: A dynamically allocated string representing the move in UCI format, which must be freed by the caller.
- **Functions Called**:
    - [`pieceTypeGetLetter`](<piece.c.md#piecetypegetletter>)
    - [`sqGetStr`](<square.c.md#sqgetstr>)


---
### moveFromUci<!-- {{#callable:moveFromUci}} -->
[View Source →](<../../../../../chesslib/src/chesslib/move.c#L55>)

Converts a UCI string into a `move` structure representing a chess move.
- **Inputs**:
    - `uci`: A string in UCI format representing a chess move, which may include a promotion piece type.
- **Logic and Control Flow**:
    - Extracts the 'from' and 'to' positions from the `uci` string and stores them in `from` and `to` arrays respectively.
    - Initializes a `promotion` variable to determine if the move includes a promotion piece type.
    - Uses a `switch` statement to set the `promotion` variable based on the fifth character of the `uci` string, defaulting to `ptEmpty` if no valid promotion is specified.
    - Creates a `move` structure `m`, setting its `from`, `to`, and `promotion` fields using the [`sqS`](<square.c.md#sqs>) function and the `promotion` variable.
    - Returns the `move` structure `m`.
- **Output**: A `move` structure containing the `from` and `to` positions and the `promotion` piece type, if applicable.
- **Functions Called**:
    - [`sqS`](<square.c.md#sqs>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)