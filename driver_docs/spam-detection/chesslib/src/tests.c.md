<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Tests for a C-based chess implementation, covering board setup, move generation, and special rules.

# Purpose
The code is a test suite for a chess implementation in C. It is designed to verify the functionality of various components of a chess library, which includes modules for handling squares, moves, move lists, boards, piece movements, and board lists. The test suite is structured to run a series of tests, each focusing on a specific aspect of the chess library, such as square operations, move creation and validation, board setup and manipulation, and special chess rules like castling and en passant.

The [`main`](<#main>) function orchestrates the execution of these tests, using the `RUN_TEST` macro to execute each test function. If a test fails, the [`failTest`](<#failtest>) function is called, which outputs an error message and halts the program. Helper functions like [`validateString`](<#validatestring>) and [`validateMove`](<#validatemove>) are used to compare expected and actual results, ensuring the chess library functions as intended. The test suite covers a wide range of scenarios, including initial board setup, move generation, special moves, and draw conditions, providing comprehensive coverage of the chess library's capabilities.
# Imports and Dependencies

---
- `stdio.h`
- `stdlib.h`
- `string.h`
- `tests.h`
- `chesslib/squareset.h`
- `chesslib/movelist.h`
- `chesslib/board.h`
- `chesslib/piecemoves.h`
- `chesslib/boardlist.h`


# Global Variables

---
### currTest
- **Type**: `const char*`
- **Description**: A global variable that holds the name of the currently running test as a string.
- **Use**: Used to store the name of the test being executed, which is then used in error messages to identify which test failed.


# Functions

---
### main<!-- {{#callable:main}} -->
[View Source →](<../../../../chesslib/src/tests.c#L23>)

Executes a series of predefined test functions for a chess implementation and reports success if all tests pass.
- **Inputs**:
    - `argc`: The number of command-line arguments passed to the program.
    - `argv`: An array of strings representing the command-line arguments.
- **Logic and Control Flow**:
    - Sets the `currTest` variable to the name of each test before running it using the `RUN_TEST` macro.
    - Executes a series of test functions related to different components of a chess game, such as squares, moves, move lists, boards, piece moves, attacked squares, playing moves, move generation, FEN generation, draw conditions, board lists, and square sets.
    - Prints a success message if all tests pass without calling `failTest`.
    - Returns 0 to indicate successful execution.
- **Output**: Returns 0 to indicate successful execution of all tests.


---
### failTest<!-- {{#callable:failTest}} -->
[View Source →](<../../../../chesslib/src/tests.c#L87>)

Prints a failure message for the current test and terminates the program.
- **Inputs**:
    - `msg`: A constant character pointer to a message that provides additional information about the test failure; can be `NULL` if no additional message is needed.
- **Logic and Control Flow**:
    - Checks if `msg` is `NULL`.
    - If `msg` is `NULL`, prints 'TEST FAILED - <current test name>' to the standard error stream.
    - If `msg` is not `NULL`, prints 'TEST FAILED - <current test name>: <msg>' to the standard error stream.
    - Calls `exit(1)` to terminate the program with a status code of 1.
- **Output**: No return value; the function terminates the program.


---
### validateString<!-- {{#callable:validateString}} -->
[View Source →](<../../../../chesslib/src/tests.c#L97>)

Compares two strings and triggers a test failure if they do not match.
- **Inputs**:
    - `actual`: The actual string to validate.
    - `expected`: The expected string to compare against.
- **Logic and Control Flow**:
    - Compares the `actual` and `expected` strings using `strcmp`.
    - If the strings do not match, calculates the lengths of both strings.
    - Allocates memory for a message string that includes both `actual` and `expected`.
    - Formats a message indicating the mismatch and calls [`failTest`](<#failtest>) with this message.
    - Frees the allocated memory for the message string, although this line is not executed because [`failTest`](<#failtest>) exits the program.
- **Output**: No return value; exits the program if the strings do not match.
- **Functions Called**:
    - [`failTest`](<#failtest>)


---
### testSqI<!-- {{#callable:testSqI}} -->
[View Source →](<../../../../chesslib/src/tests.c#L119>)

Tests the [`sqI`](<chesslib/square.c.md#sqi>) function by verifying that it correctly maps file and rank inputs to a square structure with matching file and rank values.
- **Inputs**: None
- **Logic and Control Flow**:
    - Iterates over ranks from 1 to 8.
    - For each rank, iterates over files from 1 to 8.
    - Calls [`sqI`](<chesslib/square.c.md#sqi>) with the current file and rank to get a square `s`.
    - Checks if the file and rank of `s` match the current file and rank.
    - If they do not match, formats an error message and calls [`failTest`](<#failtest>) with the message.
- **Output**: No output is returned; the function will terminate the program with an error message if a test fails.
- **Functions Called**:
    - [`sqI`](<chesslib/square.c.md#sqi>)
    - [`failTest`](<#failtest>)


---
### testSqS<!-- {{#callable:testSqS}} -->
[View Source →](<../../../../chesslib/src/tests.c#L137>)

Tests the conversion of chessboard coordinates from string format to a square structure and verifies the correctness of the conversion.
- **Inputs**: None
- **Logic and Control Flow**:
    - Iterates over all possible ranks (1 to 8) and files (1 to 8) on a chessboard.
    - For each rank and file, constructs a string `str` representing the square in chess notation (e.g., 'a1', 'b2').
    - Calls the function [`sqS`](<chesslib/square.c.md#sqs>) with `str` to convert the string to a square structure `s`.
    - Checks if the `file` and `rank` of the square `s` match the expected `file` and `rank`.
    - If there is a mismatch, constructs an error message and calls [`failTest`](<#failtest>) to indicate the test failure.
- **Output**: No output is returned; the function will terminate the program with an error message if a test fails.
- **Functions Called**:
    - [`sqS`](<chesslib/square.c.md#sqs>)
    - [`failTest`](<#failtest>)


---
### testSqGetStr<!-- {{#callable:testSqGetStr}} -->
[View Source →](<../../../../chesslib/src/tests.c#L157>)

Validates that the string representation of each square on a chessboard matches the expected format.
- **Inputs**:
    - `None`: This function does not take any input parameters.
- **Logic and Control Flow**:
    - Iterates over each rank from 1 to 8.
    - For each rank, iterates over each file from 1 to 8.
    - Calls [`sqI`](<chesslib/square.c.md#sqi>) to get the square object for the current file and rank.
    - Creates a string `str` representing the square in chess notation (e.g., 'a1', 'b2').
    - Calls [`validateString`](<#validatestring>) to compare the string returned by [`sqGetStr`](<chesslib/square.c.md#sqgetstr>) with the expected string `str`.
- **Output**: No output is returned; the function validates the correctness of square string representations and may halt the program if a test fails.
- **Functions Called**:
    - [`sqI`](<chesslib/square.c.md#sqi>)
    - [`validateString`](<#validatestring>)
    - [`sqGetStr`](<chesslib/square.c.md#sqgetstr>)


---
### testSqIsDark<!-- {{#callable:testSqIsDark}} -->
[View Source →](<../../../../chesslib/src/tests.c#L172>)

Verifies that each square on a chessboard is correctly identified as dark or light and reports any discrepancies.
- **Inputs**: None
- **Logic and Control Flow**:
    - Initialize `expectedIsDark` to 1, indicating that the square a1 is expected to be dark.
    - Iterate over each rank from 1 to 8.
    - For each rank, iterate over each file from 1 to 8.
    - For each square, call `sqI(file, rank)` to get the square object `s`.
    - Call `sqIsDark(s)` to determine if the square is dark, storing the result in `actualIsDark`.
    - If `actualIsDark` does not match `expectedIsDark`, format a message indicating the discrepancy and call `failTest(message)` to report the failure.
    - Toggle `expectedIsDark` after each file iteration to alternate the expected color of the next square.
    - Toggle `expectedIsDark` after each rank iteration to maintain the checkerboard pattern.
- **Output**: No output is returned; the function reports test failures via [`failTest`](<#failtest>).
- **Functions Called**:
    - [`sqI`](<chesslib/square.c.md#sqi>)
    - [`sqIsDark`](<chesslib/square.c.md#sqisdark>)
    - [`sqGetStr`](<chesslib/square.c.md#sqgetstr>)
    - [`failTest`](<#failtest>)


---
### validateMove<!-- {{#callable:validateMove}} -->
[View Source →](<../../../../chesslib/src/tests.c#L205>)

Validates a chess move against expected parameters and triggers a test failure if they do not match.
- **Inputs**:
    - `m`: The move to validate, containing the starting square, ending square, and promotion type.
    - `expectedFrom`: The expected starting square of the move.
    - `expectedTo`: The expected ending square of the move.
    - `expectedPromotion`: The expected promotion type of the move.
- **Logic and Control Flow**:
    - Check if the starting square of `m` is not equal to `expectedFrom` using [`sqEq`](<chesslib/square.c.md#sqeq>) function.
    - Check if the ending square of `m` is not equal to `expectedTo` using [`sqEq`](<chesslib/square.c.md#sqeq>) function.
    - Check if the promotion type of `m` is not equal to `expectedPromotion`.
    - If any of the above checks fail, format a message with the actual and expected values using `sprintf`.
    - Call [`failTest`](<#failtest>) with the formatted message to indicate a test failure.
- **Output**: No return value; the function triggers a test failure if the move does not match the expected parameters.
- **Functions Called**:
    - [`sqEq`](<chesslib/square.c.md#sqeq>)
    - [`sqGetStr`](<chesslib/square.c.md#sqgetstr>)
    - [`failTest`](<#failtest>)


---
### testMoveCreate<!-- {{#callable:testMoveCreate}} -->
[View Source →](<../../../../chesslib/src/tests.c#L218>)

Tests the creation and validation of chess moves, including promotions, using predefined square positions.
- **Inputs**: None
- **Logic and Control Flow**:
    - Creates a move `m` from square (5, 8) to square (5, 7) using [`moveSq`](<chesslib/move.c.md#movesq>) and validates it with [`validateMove`](<#validatemove>) expecting no promotion.
    - Creates a move `m` from square (3, 2) to square (2, 1) with a promotion to a queen using [`movePromote`](<chesslib/move.c.md#movepromote>) and validates it with [`validateMove`](<#validatemove>).
- **Output**: No output is returned as the function is a void type and is used for testing purposes.
- **Functions Called**:
    - [`moveSq`](<chesslib/move.c.md#movesq>)
    - [`sqI`](<chesslib/square.c.md#sqi>)
    - [`validateMove`](<#validatemove>)
    - [`movePromote`](<chesslib/move.c.md#movepromote>)


---
### testMoveGetUci<!-- {{#callable:testMoveGetUci}} -->
[View Source →](<../../../../chesslib/src/tests.c#L228>)

Tests the conversion of chess moves to UCI (Universal Chess Interface) format and validates the output.
- **Inputs**: None
- **Logic and Control Flow**:
    - Create a move `m` from square `e8` to `e7` using [`moveSq`](<chesslib/move.c.md#movesq>) and validate its UCI string representation is `e8e7` using [`validateString`](<#validatestring>).
    - Create a move `m` from square `c2` to `b1` with promotion to a queen using [`movePromote`](<chesslib/move.c.md#movepromote>) and validate its UCI string representation is `c2b1q` using [`validateString`](<#validatestring>).
- **Output**: No output is returned; the function performs validation checks and may terminate the program if a test fails.
- **Functions Called**:
    - [`moveSq`](<chesslib/move.c.md#movesq>)
    - [`sqI`](<chesslib/square.c.md#sqi>)
    - [`validateString`](<#validatestring>)
    - [`moveGetUci`](<chesslib/move.c.md#movegetuci>)
    - [`movePromote`](<chesslib/move.c.md#movepromote>)


---
### testMoveFromUci<!-- {{#callable:testMoveFromUci}} -->
[View Source →](<../../../../chesslib/src/tests.c#L238>)

Tests the conversion of UCI (Universal Chess Interface) strings to move objects and validates the resulting moves.
- **Inputs**: None
- **Logic and Control Flow**:
    - Calls [`moveFromUci`](<chesslib/move.c.md#movefromuci>) with the string "e8e7" to create a move object `m`.
    - Calls [`validateMove`](<#validatemove>) to check if `m` corresponds to a move from square `e8` to `e7` with no promotion (`ptEmpty`).
    - Calls [`moveFromUci`](<chesslib/move.c.md#movefromuci>) with the string "c2b1q" to create another move object `m`.
    - Calls [`validateMove`](<#validatemove>) to check if `m` corresponds to a move from square `c2` to `b1` with a promotion to a queen (`ptQueen`).
- **Output**: No output is returned as the function is a void type and is used for testing purposes.
- **Functions Called**:
    - [`moveFromUci`](<chesslib/move.c.md#movefromuci>)
    - [`validateMove`](<#validatemove>)
    - [`sqI`](<chesslib/square.c.md#sqi>)


---
### testMoveList<!-- {{#callable:testMoveList}} -->
[View Source →](<../../../../chesslib/src/tests.c#L253>)

Tests the functionality of creating, adding, retrieving, and validating moves in a move list for a chess game.
- **Inputs**: None
- **Logic and Control Flow**:
    - Create three moves `m1`, `m2`, and `m3` from UCI strings 'e2e4', 'e7e5', and 'e1e2' respectively using [`moveFromUci`](<chesslib/move.c.md#movefromuci>) function.
    - Create a move list `list` using [`moveListCreate`](<chesslib/movelist.c.md#movelistcreate>).
    - Add moves `m1`, `m2`, and `m3` to the move list `list` using [`moveListAdd`](<chesslib/movelist.c.md#movelistadd>).
    - Retrieve moves `m11`, `m12`, and `m13` from the move list `list` at indices 0, 1, and 2 respectively using [`moveListGet`](<chesslib/movelist.c.md#movelistget>).
    - Convert each retrieved move `m11`, `m12`, and `m13` to UCI strings using [`moveGetUci`](<chesslib/move.c.md#movegetuci>).
    - Compare each UCI string with the expected values 'e2e4', 'e7e5', and 'e1e2' using `strcmp`.
    - If any comparison fails, format a failure message and call [`failTest`](<#failtest>) to indicate the test failure.
    - Free the UCI strings after comparison using `free`.
    - Free the move list `list` using [`moveListFree`](<chesslib/movelist.c.md#movelistfree>).
- **Output**: No output is returned; the function performs validation and may call [`failTest`](<#failtest>) to indicate a test failure.
- **Functions Called**:
    - [`moveFromUci`](<chesslib/move.c.md#movefromuci>)
    - [`moveListCreate`](<chesslib/movelist.c.md#movelistcreate>)
    - [`moveListAdd`](<chesslib/movelist.c.md#movelistadd>)
    - [`moveListGet`](<chesslib/movelist.c.md#movelistget>)
    - [`moveGetUci`](<chesslib/move.c.md#movegetuci>)
    - [`failTest`](<#failtest>)
    - [`moveListFree`](<chesslib/movelist.c.md#movelistfree>)


---
### assertPiece<!-- {{#callable:assertPiece}} -->
[View Source →](<../../../../chesslib/src/tests.c#L310>)

Compares two chess pieces and triggers a test failure if they do not match.
- **Inputs**:
    - `actual`: The actual `piece` value to compare.
    - `expected`: The expected `piece` value to compare against.
- **Logic and Control Flow**:
    - Check if `actual` is not equal to `expected`.
    - If they are not equal, get the letter representation of both `actual` and `expected` using [`pieceGetLetter`](<chesslib/piece.c.md#piecegetletter>).
    - Format a message string indicating the mismatch between the actual and expected pieces.
    - Call [`failTest`](<#failtest>) with the formatted message to indicate a test failure.
- **Output**: No return value; the function triggers a test failure if the pieces do not match.
- **Functions Called**:
    - [`pieceGetLetter`](<chesslib/piece.c.md#piecegetletter>)
    - [`failTest`](<#failtest>)


---
### testBoardCreate<!-- {{#callable:testBoardCreate}} -->
[View Source →](<../../../../chesslib/src/tests.c#L322>)

Validates the initial state of a chess board created by [`boardCreate`](<chesslib/board.c.md#boardcreate>) against expected values and conditions.
- **Inputs**: None
- **Logic and Control Flow**:
    - Create a new board using [`boardCreate`](<chesslib/board.c.md#boardcreate>) and assign it to `b`.
    - Check if `b` is `NULL` and call [`failTest`](<#failtest>) if true.
    - Verify the initial positions of white pieces on the board using [`assertPiece`](<#assertpiece>).
    - Verify the initial positions of black pieces on the board using [`assertPiece`](<#assertpiece>).
    - Check that squares from index 16 to 47 are empty using [`assertPiece`](<#assertpiece>).
    - Verify that the current player is white (`pcWhite`) and call [`failTest`](<#failtest>) if not.
    - Check that all castling flags are enabled (`castleState` is `0b1111`) and call [`failTest`](<#failtest>) if not.
    - Verify that the en passant target square is `SQ_INVALID` and call [`failTest`](<#failtest>) if not.
    - Check that the half-move clock is 0 and call [`failTest`](<#failtest>) with a message if not.
    - Check that the move number is 1 and call [`failTest`](<#failtest>) with a message if not.
    - Free the memory allocated for the board `b`.
- **Output**: No output is returned as the function is a test function and uses [`failTest`](<#failtest>) to indicate failure.
- **Functions Called**:
    - [`boardCreate`](<chesslib/board.c.md#boardcreate>)
    - [`failTest`](<#failtest>)
    - [`assertPiece`](<#assertpiece>)
    - [`sqEq`](<chesslib/square.c.md#sqeq>)


---
### testBoardCreateFromFen<!-- {{#callable:testBoardCreateFromFen}} -->
[View Source →](<../../../../chesslib/src/tests.c#L382>)

Tests the creation of a chess board from a FEN string and verifies the board's state against expected values.
- **Inputs**: None
- **Logic and Control Flow**:
    - Call [`boardCreateFromFen`](<chesslib/board.c.md#boardcreatefromfen>) with a specific FEN string to create a board.
    - Check if the board pointer `b` is `NULL` and fail the test if it is.
    - Iterate over all 64 squares of the board, skipping specific indices where pieces are expected, and assert that the remaining squares are empty using [`assertPiece`](<#assertpiece>).
    - Assert the presence of specific pieces at given indices using [`assertPiece`](<#assertpiece>).
    - Check if the current player is black and fail the test if it is not.
    - Verify that all castling flags are disabled and fail the test if they are not.
    - Check if the en passant target square is `e3` using [`sqEq`](<chesslib/square.c.md#sqeq>) and fail the test if it is not.
    - Verify that the half-move clock is 0 and fail the test if it is not.
    - Check if the move number is 46 and fail the test if it is not.
    - Free the allocated board memory.
- **Output**: No output is returned; the function performs assertions and may terminate the program if a test fails.
- **Functions Called**:
    - [`boardCreateFromFen`](<chesslib/board.c.md#boardcreatefromfen>)
    - [`failTest`](<#failtest>)
    - [`assertPiece`](<#assertpiece>)
    - [`sqEq`](<chesslib/square.c.md#sqeq>)
    - [`sqI`](<chesslib/square.c.md#sqi>)
    - [`sqGetStr`](<chesslib/square.c.md#sqgetstr>)


---
### testBoardEq<!-- {{#callable:testBoardEq}} -->
[View Source →](<../../../../chesslib/src/tests.c#L436>)

Triggers a test failure with a message indicating the function is not yet implemented.
- **Inputs**: None
- **Logic and Control Flow**:
    - Calls the [`failTest`](<#failtest>) function with the message 'Not yet implemented'.
- **Output**: No output is produced as the function exits via [`failTest`](<#failtest>).
- **Functions Called**:
    - [`failTest`](<#failtest>)


---
### validateUciIsInMovelist<!-- {{#callable:validateUciIsInMovelist}} -->
[View Source →](<../../../../chesslib/src/tests.c#L449>)

Checks if a given UCI move string is present in a move list and fails the test if it is not found.
- **Inputs**:
    - ``list``: A pointer to a `moveList` structure that contains a list of moves.
    - ``expectedUci``: A string representing the expected UCI move that should be present in the move list.
- **Logic and Control Flow**:
    - Iterates through each node in the move list starting from the head.
    - For each node, retrieves the UCI string of the move using [`moveGetUci`](<chesslib/move.c.md#movegetuci>).
    - Compares the retrieved UCI string with the expected UCI string using `strcmp`.
    - Frees the memory allocated for the retrieved UCI string.
    - If a match is found, the function returns immediately.
    - If no match is found after iterating through the list, constructs an error message and calls [`failTest`](<#failtest>) to indicate the test failure.
- **Output**: No output is returned; the function either returns silently if the UCI is found or calls [`failTest`](<#failtest>) to terminate the program if the UCI is not found.
- **Functions Called**:
    - [`moveGetUci`](<chesslib/move.c.md#movegetuci>)
    - [`failTest`](<#failtest>)


---
### validateListSize<!-- {{#callable:validateListSize}} -->
[View Source →](<../../../../chesslib/src/tests.c#L465>)

Compares the size of a `moveList` to an expected size and triggers a test failure if they do not match.
- **Inputs**:
    - `list`: A pointer to a `moveList` structure that contains a list of moves.
    - `expectedSize`: The expected number of elements in the `moveList`.
- **Logic and Control Flow**:
    - Checks if the `size` of the `moveList` pointed to by `list` is not equal to `expectedSize`.
    - If the sizes do not match, formats an error message indicating the actual and expected sizes.
    - Calls [`failTest`](<#failtest>) with the formatted message to indicate a test failure.
- **Output**: No return value; the function triggers a test failure if the list size does not match the expected size.
- **Functions Called**:
    - [`failTest`](<#failtest>)


---
### testPawnMoves<!-- {{#callable:testPawnMoves}} -->
[View Source →](<../../../../chesslib/src/tests.c#L475>)

Tests various scenarios for pawn moves on a chess board, including normal moves, captures, promotions, and en passant captures.
- **Inputs**:
    - `None`: This function does not take any input parameters.
- **Logic and Control Flow**:
    - Create a board with a lone white pawn on the starting rank and get its possible moves.
    - Validate that the pawn can move one or two squares forward, then free the move list.
    - Set up a board where the pawn can capture pieces and validate the possible moves, including captures.
    - Set up a board where the pawn is blocked and validate that there are no possible moves.
    - Set up a board with a pawn not on the first rank and validate it can move one square forward.
    - Set up a board with a white pawn about to promote and validate all promotion moves.
    - Set up a board with a black pawn on the first rank and validate its possible moves.
    - Set up a board with a pawn blocked with one free spot and validate the move.
    - Set up a board with a black pawn about to promote with capturing ability and validate all promotion and capture moves.
    - Set up a board with a white pawn with an opportunity to capture en passant and validate the moves.
    - Set up a board with a black pawn with an opportunity to capture en passant and validate the moves.
    - Free the board at the end of the function.
- **Output**: No output is returned as this function is used for testing purposes.
- **Functions Called**:
    - [`boardCreateFromFen`](<chesslib/board.c.md#boardcreatefromfen>)
    - [`pmGetPawnMoves`](<chesslib/piecemoves.c.md#pmgetpawnmoves>)
    - [`sqS`](<chesslib/square.c.md#sqs>)
    - [`validateListSize`](<#validatelistsize>)
    - [`validateUciIsInMovelist`](<#validateuciisinmovelist>)
    - [`moveListFree`](<chesslib/movelist.c.md#movelistfree>)
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)


---
### testKnightMoves<!-- {{#callable:testKnightMoves}} -->
[View Source →](<../../../../chesslib/src/tests.c#L604>)

Tests the generation and validation of knight moves on a chessboard in various scenarios.
- **Inputs**: None
- **Logic and Control Flow**:
    - Initializes a chessboard with a lone knight at position `c3` and generates its possible moves using [`pmGetKnightMoves`](<chesslib/piecemoves.c.md#pmgetknightmoves>).
    - Validates that the move list contains 8 moves and checks each expected move using [`validateUciIsInMovelist`](<#validateuciisinmovelist>).
    - Frees the move list using [`moveListFree`](<chesslib/movelist.c.md#movelistfree>).
    - Reinitializes the board with a knight at the edge at position `h7` and generates its possible moves.
    - Validates that the move list contains 3 moves and checks each expected move.
    - Frees the move list.
    - Reinitializes the board with a knight at position `f6` surrounded by other pieces and generates its possible moves.
    - Validates that the move list contains 6 moves and checks each expected move.
    - Frees the move list.
- **Output**: No output is returned as this function is a test function that validates knight moves.
- **Functions Called**:
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)
    - [`pmGetKnightMoves`](<chesslib/piecemoves.c.md#pmgetknightmoves>)
    - [`sqS`](<chesslib/square.c.md#sqs>)
    - [`validateListSize`](<#validatelistsize>)
    - [`validateUciIsInMovelist`](<#validateuciisinmovelist>)
    - [`moveListFree`](<chesslib/movelist.c.md#movelistfree>)


---
### testBishopMoves<!-- {{#callable:testBishopMoves}} -->
[View Source →](<../../../../chesslib/src/tests.c#L654>)

Tests the move generation for bishops on a chessboard in different scenarios.
- **Inputs**: None
- **Logic and Control Flow**:
    - Initializes a chess board with a lone bishop on `e7` using FEN notation.
    - Generates all possible moves for the bishop on `e7` and validates that there are 9 moves in the list.
    - Checks that specific moves like `e7f8`, `e7f6`, `e7g5`, etc., are present in the move list.
    - Frees the move list after validation.
    - Reinitializes the board with a more complex position where the bishop on `c3` has some blocking pieces.
    - Generates all possible moves for the bishop on `c3` and validates that there are 5 moves in the list.
    - Checks that specific moves like `c3d4`, `c3e5`, `c3f6`, etc., are present in the move list.
    - Frees the move list after validation.
- **Output**: No output is returned as the function is a test function that validates bishop moves.
- **Functions Called**:
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)
    - [`pmGetBishopMoves`](<chesslib/piecemoves.c.md#pmgetbishopmoves>)
    - [`sqS`](<chesslib/square.c.md#sqs>)
    - [`validateListSize`](<#validatelistsize>)
    - [`validateUciIsInMovelist`](<#validateuciisinmovelist>)
    - [`moveListFree`](<chesslib/movelist.c.md#movelistfree>)


---
### testRookMoves<!-- {{#callable:testRookMoves}} -->
[View Source →](<../../../../chesslib/src/tests.c#L692>)

Tests the move generation and validation for rooks on a chess board.
- **Inputs**:
    - `None`: This function does not take any input parameters.
- **Logic and Control Flow**:
    - Initializes a chess board with a lone rook at position `d7` using the FEN string `8/3R4/8/8/8/8/8/8 w - - 0 1`.
    - Generates all possible moves for the rook at `d7` using [`pmGetRookMoves`](<chesslib/piecemoves.c.md#pmgetrookmoves>).
    - Validates that the move list contains 14 moves and checks for specific moves like `d7d8`, `d7e7`, etc., using [`validateListSize`](<#validatelistsize>) and [`validateUciIsInMovelist`](<#validateuciisinmovelist>).
    - Frees the move list using [`moveListFree`](<chesslib/movelist.c.md#movelistfree>).
    - Re-initializes the board with a more complex setup including a rook at `e5` using the FEN string `8/3R4/8/2k1r1BQ/8/8/3n1R2/4b3 b - - 0 1`.
    - Generates all possible moves for the rook at `e5`.
    - Validates that the move list contains 9 moves and checks for specific moves like `e5e6`, `e5e7`, etc.
    - Frees the move list again.
- **Output**: There is no return value as this function is used for testing purposes.
- **Functions Called**:
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)
    - [`pmGetRookMoves`](<chesslib/piecemoves.c.md#pmgetrookmoves>)
    - [`sqS`](<chesslib/square.c.md#sqs>)
    - [`validateListSize`](<#validatelistsize>)
    - [`validateUciIsInMovelist`](<#validateuciisinmovelist>)
    - [`moveListFree`](<chesslib/movelist.c.md#movelistfree>)


---
### testQueenMoves<!-- {{#callable:testQueenMoves}} -->
[View Source →](<../../../../chesslib/src/tests.c#L738>)

Tests the move generation for a queen on a chessboard in different scenarios.
- **Inputs**: None
- **Logic and Control Flow**:
    - Initialize a chess board `b` with a lone queen at position `b2` using FEN notation.
    - Generate all possible moves for the queen at `b2` and store them in `list`.
    - Validate that the size of `list` is 23, indicating 23 possible moves.
    - Check that specific moves like `b2b3`, `b2b4`, `b2c3`, etc., are present in `list`.
    - Free the memory allocated for `list`.
    - Reinitialize the board `b` with a queen at `d5` surrounded by other pieces using FEN notation.
    - Generate all possible moves for the queen at `d5` and store them in `list`.
    - Validate that the size of `list` is 11, indicating 11 possible moves.
    - Check that specific moves like `d5e6`, `d5f7`, `d5e5`, etc., are present in `list`.
    - Free the memory allocated for `list`.
- **Output**: No output is returned as the function is a test function that validates the correctness of queen move generation.
- **Functions Called**:
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)
    - [`pmGetQueenMoves`](<chesslib/piecemoves.c.md#pmgetqueenmoves>)
    - [`sqS`](<chesslib/square.c.md#sqs>)
    - [`validateListSize`](<#validatelistsize>)
    - [`validateUciIsInMovelist`](<#validateuciisinmovelist>)
    - [`moveListFree`](<chesslib/movelist.c.md#movelistfree>)


---
### testKingMoves<!-- {{#callable:testKingMoves}} -->
[View Source →](<../../../../chesslib/src/tests.c#L799>)

Tests the movement generation for a king on a chessboard without considering checks.
- **Inputs**:
    - `None`: This function does not take any input parameters.
- **Logic and Control Flow**:
    - Initializes a chess board with a lone king at position `c7` and generates possible moves using [`pmGetKingMoves`](<chesslib/piecemoves.c.md#pmgetkingmoves>).
    - Validates that the move list contains 8 possible moves for the king from `c7`.
    - Frees the move list memory.
    - Initializes a chess board with a king in the corner at position `a1` and generates possible moves.
    - Validates that the move list contains 3 possible moves for the king from `a1`.
    - Frees the move list memory.
    - Initializes a chess board with a king surrounded by other pieces at position `d5` and generates possible moves.
    - Validates that the move list contains 5 possible moves for the king from `d5`.
    - Frees the move list memory.
- **Output**: There is no return value; the function performs validation checks and may terminate the program if a test fails.
- **Functions Called**:
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)
    - [`pmGetKingMoves`](<chesslib/piecemoves.c.md#pmgetkingmoves>)
    - [`sqS`](<chesslib/square.c.md#sqs>)
    - [`validateListSize`](<#validatelistsize>)
    - [`validateUciIsInMovelist`](<#validateuciisinmovelist>)
    - [`moveListFree`](<chesslib/movelist.c.md#movelistfree>)


---
### testIsSquareAttacked<!-- {{#callable:testIsSquareAttacked}} -->
[View Source →](<../../../../chesslib/src/tests.c#L856>)

Tests if squares on a chess board are attacked by specific pieces in various scenarios.
- **Inputs**: None
- **Logic and Control Flow**:
    - Initializes a chess board with a knight in the corner and a pawn using [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>) and checks if specific squares are attacked by white pieces using [`boardIsSquareAttacked`](<chesslib/board.c.md#boardissquareattacked>).
    - Iterates over all 64 squares, calculates expected attack status for each square, and compares it with the actual attack status returned by [`boardIsSquareAttacked`](<chesslib/board.c.md#boardissquareattacked>).
    - If there is a mismatch between expected and actual attack status, constructs an error message and calls [`failTest`](<#failtest>) to indicate a test failure.
    - Repeats the above steps for a board with a lone rook and another board with a rook that has blocking and capturing opportunities.
- **Output**: No output is returned; the function uses [`failTest`](<#failtest>) to indicate test failures.
- **Functions Called**:
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)
    - [`sqIndex`](<chesslib/square.c.md#sqindex>)
    - [`sqEq`](<chesslib/square.c.md#sqeq>)
    - [`sqS`](<chesslib/square.c.md#sqs>)
    - [`boardIsSquareAttacked`](<chesslib/board.c.md#boardissquareattacked>)
    - [`sqGetStr`](<chesslib/square.c.md#sqgetstr>)
    - [`failTest`](<#failtest>)


---
### testIsInCheck<!-- {{#callable:testIsInCheck}} -->
[View Source →](<../../../../chesslib/src/tests.c#L920>)

Tests if a chess board is in check using various scenarios.
- **Inputs**: None
- **Logic and Control Flow**:
    - Initialize a chess board `b` with a specific FEN string representing a board state where a rook puts the king in check.
    - Check if the board is in check using `boardIsInCheck(&b)`; if not, call [`failTest`](<#failtest>) with an error message.
    - Check if the black player is in check using `boardIsPlayerInCheck(&b, pcBlack)`; if true, call [`failTest`](<#failtest>) with an error message.
    - Initialize the board `b` with a FEN string representing the Scholar's mate scenario.
    - Repeat the check and fail test logic for the Scholar's mate scenario.
    - Initialize the board `b` with a FEN string where checks are blocked by knights.
    - Check if the board is in check using `boardIsInCheck(&b)`; if true, call [`failTest`](<#failtest>) with an error message.
    - Check if the black player is in check using `boardIsPlayerInCheck(&b, pcBlack)`; if true, call [`failTest`](<#failtest>) with an error message.
- **Output**: No output is returned; the function calls [`failTest`](<#failtest>) if any test fails.
- **Functions Called**:
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)
    - [`boardIsInCheck`](<chesslib/board.c.md#boardisincheck>)
    - [`failTest`](<#failtest>)
    - [`boardIsPlayerInCheck`](<chesslib/board.c.md#boardisplayerincheck>)


---
### validateBoardEq<!-- {{#callable:validateBoardEq}} -->
[View Source →](<../../../../chesslib/src/tests.c#L959>)

Checks if two chess boards are equal and fails the test if they are not.
- **Inputs**:
    - ``name``: A string that identifies the test or context in which the boards are being compared.
    - ``b1``: A pointer to the first `board` structure to compare.
    - ``b2``: A pointer to the second `board` structure to compare.
- **Logic and Control Flow**:
    - Calls the [`boardEq`](<chesslib/board.c.md#boardeq>) function to compare `b1` and `b2` for equality.
    - If [`boardEq`](<chesslib/board.c.md#boardeq>) returns false, indicating the boards are not equal, it formats a message using `sprintf` to include the `name` and a description of the failure.
    - Calls [`failTest`](<#failtest>) with the formatted message to indicate the test failure and halt the program.
- **Output**: No output is returned; the function calls [`failTest`](<#failtest>) to halt the program if the boards are not equal.
- **Functions Called**:
    - [`boardEq`](<chesslib/board.c.md#boardeq>)
    - [`failTest`](<#failtest>)


---
### testBoardPlayMove<!-- {{#callable:testBoardPlayMove}} -->
[View Source →](<../../../../chesslib/src/tests.c#L969>)

Tests the functionality of playing moves on a chess board and validates the board state after each move.
- **Inputs**: None
- **Logic and Control Flow**:
    - Create a new chess board `b` using `boardCreate()`.
    - Play the move 1. e4 on `b` using `boardPlayMoveInPlace()` and validate against a board created from FEN.
    - Check for exact and contextual equality with a fuzzy board state and handle discrepancies.
    - Play the move 1... Nf6 and validate the board state.
    - Test capturing by playing a rook capture and validate the board state.
    - Test bishop capturing a pawn and validate the board state.
    - Simulate a draw scenario with two moves and validate the board state after each move.
    - Test castling for both white and black, including O-O and O-O-O, and validate the board state.
    - Test en passant scenarios for both white and black, including moves and captures, and validate the board state.
    - Free all allocated board resources at the end.
- **Output**: No output is returned; the function performs tests and may terminate the program if a test fails.
- **Functions Called**:
    - [`boardCreate`](<chesslib/board.c.md#boardcreate>)
    - [`boardPlayMoveInPlace`](<chesslib/board.c.md#boardplaymoveinplace>)
    - [`moveSq`](<chesslib/move.c.md#movesq>)
    - [`sqS`](<chesslib/square.c.md#sqs>)
    - [`boardCreateFromFen`](<chesslib/board.c.md#boardcreatefromfen>)
    - [`validateBoardEq`](<#validateboardeq>)
    - [`boardEq`](<chesslib/board.c.md#boardeq>)
    - [`failTest`](<#failtest>)
    - [`boardEqContext`](<chesslib/board.c.md#boardeqcontext>)
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)
    - [`moveFromUci`](<chesslib/move.c.md#movefromuci>)


---
### validateUciIsNotInMovelist<!-- {{#callable:validateUciIsNotInMovelist}} -->
[View Source →](<../../../../chesslib/src/tests.c#L1095>)

Checks if a given UCI string is not present in a move list and fails the test if it is found.
- **Inputs**:
    - ``list``: A pointer to a `moveList` structure that contains a list of moves.
    - ``expectedUci``: A string representing the UCI (Universal Chess Interface) notation of the move that is expected to be absent from the move list.
- **Logic and Control Flow**:
    - Iterates through each node in the move list starting from the head.
    - For each node, retrieves the UCI string of the move using [`moveGetUci`](<chesslib/move.c.md#movegetuci>).
    - Compares the retrieved UCI string with the `expectedUci` using `strcmp`.
    - Frees the memory allocated for the retrieved UCI string.
    - If a match is found (comparison result is 0), constructs an error message and calls [`failTest`](<#failtest>) with the message, then returns.
    - If no match is found after iterating through the list, the function completes without any action.
- **Output**: No output is returned; the function either completes silently or calls [`failTest`](<#failtest>) to indicate a failure.
- **Functions Called**:
    - [`moveGetUci`](<chesslib/move.c.md#movegetuci>)
    - [`failTest`](<#failtest>)


---
### testBoardGenerateMoves<!-- {{#callable:testBoardGenerateMoves}} -->
[View Source →](<../../../../chesslib/src/tests.c#L1113>)

Tests the move generation functionality of a chess board by validating the generated moves against expected outcomes for various board states.
- **Inputs**: None
- **Logic and Control Flow**:
    - Initialize a chess board `b` and a move list `list`.
    - Generate moves for the initial board setup and validate that there are 20 possible moves, including all pawn and knight moves.
    - Free the move list after validation.
    - Set up a board with a specific FEN string and generate moves, validating the expected number of moves and specific pawn, knight, bishop, queen, and king moves.
    - Free the move list after validation.
    - Set up another board with fewer pieces and generate moves, validating the expected number of moves and specific knight and king moves.
    - Free the move list after validation.
    - Set up a board with a pinned knight and generate moves, validating that only king moves are possible and the knight cannot move.
    - Free the move list after validation.
    - Set up a board where the king is in check but can be blocked, generate moves, and validate that only the blocking move is possible.
    - Free the move list after validation.
- **Output**: No output is returned as the function is a test function that validates move generation logic by using assertions.
- **Functions Called**:
    - [`boardInitInPlace`](<chesslib/board.c.md#boardinitinplace>)
    - [`boardGenerateMoves`](<chesslib/board.c.md#boardgeneratemoves>)
    - [`validateListSize`](<#validatelistsize>)
    - [`validateUciIsInMovelist`](<#validateuciisinmovelist>)
    - [`moveListFree`](<chesslib/movelist.c.md#movelistfree>)
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)
    - [`validateUciIsNotInMovelist`](<#validateuciisnotinmovelist>)


---
### testBoardGenerateMovesCastling<!-- {{#callable:testBoardGenerateMovesCastling}} -->
[View Source →](<../../../../chesslib/src/tests.c#L1255>)

Tests the generation of castling moves in various chess board scenarios.
- **Inputs**: None
- **Logic and Control Flow**:
    - Initialize a chess board `b` and a move list `list` for storing generated moves.
    - Set up the board for white's kingside castling (O-O) and generate moves, then validate that the move 'e1g1' is in the move list.
    - Remove the white kingside castling right and regenerate moves, then validate that 'e1g1' is not in the move list.
    - Switch to black's turn and generate moves for black's kingside castling (O-O), then validate that 'e8g8' is in the move list.
    - Set up the board for white's queenside castling (O-O-O) and generate moves, then validate that 'e1c1' is in the move list.
    - Switch to black's turn and generate moves for black's queenside castling (O-O-O), then validate that 'e8c8' is in the move list.
    - Set up scenarios where the king is in check or squares are attacked, and validate that castling moves are correctly included or excluded from the move list based on the rules of chess.
- **Output**: No output is returned; the function validates castling move generation through assertions.
- **Functions Called**:
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)
    - [`boardGenerateMoves`](<chesslib/board.c.md#boardgeneratemoves>)
    - [`validateUciIsInMovelist`](<#validateuciisinmovelist>)
    - [`moveListFree`](<chesslib/movelist.c.md#movelistfree>)
    - [`validateUciIsNotInMovelist`](<#validateuciisnotinmovelist>)


---
### validateBoardFen<!-- {{#callable:validateBoardFen}} -->
[View Source →](<../../../../chesslib/src/tests.c#L1387>)

Validates a given FEN string by comparing it to the FEN string generated from a board initialized with the same FEN.
- **Inputs**:
    - `fen`: A pointer to a character array representing a FEN (Forsyth-Edwards Notation) string for a chess board.
- **Logic and Control Flow**:
    - Initialize a `board` structure `b`.
    - Call [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>) to initialize `b` with the given `fen` string.
    - Generate a FEN string from `b` using [`boardGetFen`](<chesslib/board.c.md#boardgetfen>).
    - Call [`validateString`](<#validatestring>) to compare the generated FEN string with the input `fen` string.
    - Free the memory allocated for the generated FEN string.
- **Output**: No return value; the function performs validation and may terminate the program if the validation fails.
- **Functions Called**:
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)
    - [`boardGetFen`](<chesslib/board.c.md#boardgetfen>)
    - [`validateString`](<#validatestring>)


---
### testBoardGetFen<!-- {{#callable:testBoardGetFen}} -->
[View Source →](<../../../../chesslib/src/tests.c#L1398>)

Validates the conversion of chess board states to FEN strings using various test cases.
- **Inputs**:
    - `None`: This function does not take any input parameters.
- **Logic and Control Flow**:
    - Calls [`validateBoardFen`](<#validateboardfen>) with `INITIAL_FEN` to validate the initial board setup.
    - Calls [`validateBoardFen`](<#validateboardfen>) with a FEN string representing Fool's mate to validate the board state conversion.
    - Calls [`validateBoardFen`](<#validateboardfen>) with a FEN string representing Scholar's mate to validate the board state conversion.
    - Calls [`validateBoardFen`](<#validateboardfen>) with a FEN string representing a specific game position (GotC Be6!!) to validate the board state conversion.
    - Calls [`validateBoardFen`](<#validateboardfen>) with a FEN string representing a miscellaneous setup with varying castling states and en passant target to validate the board state conversion.
- **Output**: No output is returned; the function uses [`validateBoardFen`](<#validateboardfen>) to check correctness and may call `failTest` if validation fails.
- **Functions Called**:
    - [`validateBoardFen`](<#validateboardfen>)


---
### validateBoardIsInsufficientMaterial<!-- {{#callable:validateBoardIsInsufficientMaterial}} -->
[View Source →](<../../../../chesslib/src/tests.c#L1412>)

Checks if a chess board has insufficient material for a draw and compares the result with an expected value.
- **Inputs**:
    - ``b``: A pointer to a `board` structure representing the current state of the chess board.
    - ``expected``: An 8-bit unsigned integer representing the expected result of the insufficient material check (1 for true, 0 for false).
- **Logic and Control Flow**:
    - Call the function [`boardIsInsufficientMaterial`](<chesslib/board.c.md#boardisinsufficientmaterial>) with the board `b` to determine if the board is a draw by insufficient material, storing the result in `actual`.
    - Compare `actual` with `expected`.
    - If `actual` does not equal `expected`, format a message indicating the discrepancy and call [`failTest`](<#failtest>) with this message to indicate a test failure.
- **Output**: No return value; the function will call [`failTest`](<#failtest>) and terminate the program if the actual result does not match the expected result.
- **Functions Called**:
    - [`boardIsInsufficientMaterial`](<chesslib/board.c.md#boardisinsufficientmaterial>)
    - [`failTest`](<#failtest>)


---
### testBoardIsInsufficientMaterial<!-- {{#callable:testBoardIsInsufficientMaterial}} -->
[View Source →](<../../../../chesslib/src/tests.c#L1426>)

Tests various chess board configurations to determine if they result in a draw due to insufficient material.
- **Inputs**:
    - `None`: This function does not take any input parameters.
- **Logic and Control Flow**:
    - Initialize a `board` object `b`.
    - Set up the initial board configuration and validate that it is not insufficient material using [`validateBoardIsInsufficientMaterial`](<#validateboardisinsufficientmaterial>).
    - Set up a board with only kings and validate that it is insufficient material.
    - Set up a board with a king versus a king and knight, and validate that it is insufficient material.
    - Set up a board with a king versus a king and two knights, and validate that it is not insufficient material.
    - Set up a board with a king and bishop versus a king and bishop of different colors, and validate that it is not insufficient material.
    - Set up a board with a king and bishop versus a king and bishop of the same color, and validate that it is insufficient material.
    - Set up a board with multiple bishops of the same color versus a king and bishops, and validate that it is insufficient material.
- **Output**: There is no return value; the function uses assertions to validate the test cases.
- **Functions Called**:
    - [`boardInitInPlace`](<chesslib/board.c.md#boardinitinplace>)
    - [`validateBoardIsInsufficientMaterial`](<#validateboardisinsufficientmaterial>)
    - [`boardInitFromFenInPlace`](<chesslib/board.c.md#boardinitfromfeninplace>)


---
### testBoardList<!-- {{#callable:testBoardList}} -->
[View Source →](<../../../../chesslib/src/tests.c#L1464>)

Tests the functionality of adding and retrieving boards from a `boardList`.
- **Inputs**: None
- **Logic and Control Flow**:
    - Create three board instances: `b1`, `b2`, and `b3` using [`boardCreate`](<chesslib/board.c.md#boardcreate>) and [`boardPlayMove`](<chesslib/board.c.md#boardplaymove>) functions.
    - Create a `boardList` instance `l` using [`boardListCreate`](<chesslib/boardlist.c.md#boardlistcreate>).
    - Add the boards `b1`, `b2`, and `b3` to the list `l` using [`boardListAdd`](<chesslib/boardlist.c.md#boardlistadd>).
    - Check if `boardListGet(l, 0)` returns `b1`, if not, call [`failTest`](<#failtest>).
    - Check if `boardListGet(l, 1)` returns `b2`, if not, call [`failTest`](<#failtest>).
    - Check if `boardListGet(l, 2)` returns `b3`, if not, call [`failTest`](<#failtest>).
    - Free the `boardList` `l` using [`boardListFree`](<chesslib/boardlist.c.md#boardlistfree>), which also frees all boards in the list.
- **Output**: No output is returned; the function performs tests and may call [`failTest`](<#failtest>) to indicate a failure.
- **Functions Called**:
    - [`boardCreate`](<chesslib/board.c.md#boardcreate>)
    - [`boardPlayMove`](<chesslib/board.c.md#boardplaymove>)
    - [`moveFromUci`](<chesslib/move.c.md#movefromuci>)
    - [`boardListCreate`](<chesslib/boardlist.c.md#boardlistcreate>)
    - [`boardListAdd`](<chesslib/boardlist.c.md#boardlistadd>)
    - [`boardListGet`](<chesslib/boardlist.c.md#boardlistget>)
    - [`failTest`](<#failtest>)
    - [`boardListFree`](<chesslib/boardlist.c.md#boardlistfree>)


---
### testSqSetSet<!-- {{#callable:testSqSetSet}} -->
[View Source →](<../../../../chesslib/src/tests.c#L1494>)

Tests the [`sqSetSet`](<chesslib/squareset.c.md#sqsetset>) function by setting specific squares in a `uint64_t` bitboard and verifying the expected bit pattern.
- **Inputs**:
    - `ss`: A pointer to a `uint64_t` bitboard representing a set of squares.
    - [`sqS`](<chesslib/square.c.md#sqs>): A function that converts a square notation (e.g., "e4") to a square index.
    - [`sqSetSet`](<chesslib/squareset.c.md#sqsetset>): A function that sets a specific bit in the bitboard to indicate a square is occupied.
    - [`failTest`](<#failtest>): A function that halts the test and reports a failure message if the condition is not met.
- **Logic and Control Flow**:
    - Initialize `ss` to 0, representing an empty set of squares.
    - Call [`sqSetSet`](<chesslib/squareset.c.md#sqsetset>) to set the square 'e4' in the bitboard `ss`.
    - Check if `ss` matches the expected bit pattern for 'e4'; if not, call [`failTest`](<#failtest>).
    - Repeat the process for squares 'd5', 'a1', and 'h8', each time checking the bit pattern and calling [`failTest`](<#failtest>) if it does not match the expected value.
- **Output**: No output is returned; the function uses [`failTest`](<#failtest>) to indicate failure.
- **Functions Called**:
    - [`sqSetSet`](<chesslib/squareset.c.md#sqsetset>)
    - [`sqS`](<chesslib/square.c.md#sqs>)
    - [`failTest`](<#failtest>)


---
### testSqSetGet<!-- {{#callable:testSqSetGet}} -->
[View Source →](<../../../../chesslib/src/tests.c#L1519>)

Validates the correctness of the [`sqSetGet`](<chesslib/squareset.c.md#sqsetget>) function by comparing expected and actual values for specific square sets.
- **Inputs**:
    - `None`: This function does not take any input parameters.
- **Logic and Control Flow**:
    - Initializes a 64-bit integer `ss` to represent a diagonal from a1 to h8.
    - Iterates over each square index from 0 to 63.
    - For each square, calculates the expected value based on whether the file equals the rank.
    - Calls [`sqSetGet`](<chesslib/squareset.c.md#sqsetget>) to get the actual value for the square from the set `ss`.
    - Compares the expected and actual values; if they differ, constructs an error message and calls [`failTest`](<#failtest>).
    - Reinitializes `ss` to represent specific files and ranks (c file, f file, 3 rank, and 6 rank).
    - Repeats the iteration and comparison process for the new set `ss`.
- **Output**: No output is returned; the function will call [`failTest`](<#failtest>) and terminate if any test fails.
- **Functions Called**:
    - [`sqIndex`](<chesslib/square.c.md#sqindex>)
    - [`sqSetGet`](<chesslib/squareset.c.md#sqsetget>)
    - [`sqGetStr`](<chesslib/square.c.md#sqgetstr>)
    - [`failTest`](<#failtest>)



---
Made with ❤️ by [Driver](https://www.driver.ai/)