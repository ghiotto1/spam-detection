<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines data structures and functions for managing and playing a chess game, including move validation.

# Purpose
This code defines a C module for managing a chess game. It provides structures and functions to initialize, manipulate, and query the state of a chess game. The `chess` structure is central to this module, encapsulating the current legal moves, terminal state, board history, move history, and repetition count of the current position. The module includes functions to create and initialize a chess game, either from scratch or from a given FEN (Forsyth-Edwards Notation) string, and to free the resources associated with a game.

The module also provides various utility functions to interact with the chess game, such as retrieving the current board, legal moves, terminal state, and history of moves. It includes functions to play and undo moves, check if a position is in check, and determine if a square is attacked. Additionally, the module supports draw claims based on the 50-move rule and threefold repetition. The code includes functions that mirror those in the `board` structure for convenience, allowing users to access specific game details like the piece at a square, the current player, and the castling state.
# Imports and Dependencies

---
- `chesslib/boardlist.h`
- `chesslib/movelist.h`
- `chesslib/squareset.h`


# Data Structures

---
### terminalState
- **Type**: ``enum``
- **Members**:
    - ``tsOngoing``: Indicates that the game is still in progress.
    - ``tsCheckmate``: Indicates that the game has ended in checkmate.
    - ``tsDrawStalemate``: Indicates that the game has ended in a stalemate draw.
    - ``tsDrawClaimed50MoveRule``: Indicates that a draw has been claimed under the 50-move rule.
    - ``tsDraw75MoveRule``: Indicates that the game has ended in a draw under the 75-move rule.
    - ``tsDrawClaimedThreefold``: Indicates that a draw has been claimed due to threefold repetition.
    - ``tsDrawFivefold``: Indicates that the game has ended in a draw due to fivefold repetition.
    - ``tsDrawInsufficient``: Indicates that the game has ended in a draw due to insufficient material.
- **Description**: Represents the possible terminal states of a chess game, including ongoing play, checkmate, and various draw conditions.


---
### chess
- **Type**: ``struct``
- **Members**:
    - `currentLegalMoves`: Pointer to a `moveList` that contains the current legal moves in the game.
    - `terminal`: Represents the current terminal state of the game using the `terminalState` enum.
    - `boardHistory`: Pointer to a `boardList` that records the history of board states.
    - `moveHistory`: Pointer to a `moveList` that records the history of moves made in the game.
    - `repetitions`: Counts how many times the current board position has been repeated.
- **Description**: Represents the state of a chess game, including the current legal moves, terminal state, history of board states and moves, and the number of repetitions of the current position.


# Function Declarations (Public API)

---
### chessCreate<!-- {{#callable_declaration:chessCreate}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L34>)

Creates and initializes a new chess game.
- **Description**: Use this function to start a new chess game with the standard initial position. It initializes the game state and allocates necessary resources. After use, you must free the allocated memory to prevent memory leaks. This function is suitable for starting a game with the default setup, and it does not require any parameters.
- **Inputs**: None
- **Output**: Returns a pointer to a newly created `chess` structure representing the initial state of a chess game. If the creation fails, it returns `NULL`.
- **See Also**: [`chessCreate`](<../../src/chesslib/chess.c.md#chesscreate>)  (Implementation)


---
### chessCreateFen<!-- {{#callable_declaration:chessCreateFen}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L35>)

Creates a chess game from a FEN string.
- **Description**: Use this function to create and initialize a new chess game based on a given FEN (Forsyth-Edwards Notation) string. This function allocates memory for a new `chess` structure and initializes it using the provided FEN string. If the FEN string is invalid, the function returns `NULL` and frees any allocated memory. Ensure to free the returned `chess` structure using `chessFree` when it is no longer needed to avoid memory leaks.
- **Inputs**:
    - `fen`: A pointer to a null-terminated string containing the FEN representation of a chess position. The string must be valid FEN; otherwise, the function returns `NULL`. The caller retains ownership of the string and must ensure it is not null.
- **Output**: A pointer to an initialized `chess` structure if the FEN is valid, or `NULL` if the FEN is invalid.
- **See Also**: [`chessCreateFen`](<../../src/chesslib/chess.c.md#chesscreatefen>)  (Implementation)


---
### chessInitInPlace<!-- {{#callable_declaration:chessInitInPlace}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L38>)

Initializes a chess game to the standard starting position.
- **Description**: Use this function to set up a chess game to the standard initial position. This function is useful when you want to start a new game from the beginning. It must be called with a valid `chess` structure that has been allocated by the caller. The function does not return a value, and it does not handle invalid input directly, so ensure that the `chess` structure is properly allocated before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` structure that must be allocated by the caller. The structure will be initialized to the standard starting position of a chess game. The pointer must not be null, and the function assumes the structure is valid.
- **Output**: None
- **See Also**: [`chessInitInPlace`](<../../src/chesslib/chess.c.md#chessinitinplace>)  (Implementation)


---
### chessInitFenInPlace<!-- {{#callable_declaration:chessInitFenInPlace}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L40>)

Initializes a chess game with a given FEN string.
- **Description**: Use this function to initialize a chess game state from a given FEN (Forsyth-Edwards Notation) string. This function sets up the board and game state according to the FEN provided. It must be called on a valid `chess` structure. If the FEN string is invalid, the function returns an error code and does not modify the game state. This function is useful for starting a game from a specific position rather than the standard starting position.
- **Inputs**:
    - `c`: A pointer to a `chess` structure that must be initialized before calling this function. The caller retains ownership and must ensure it is not null.
    - `fen`: A pointer to a null-terminated string containing the FEN representation of the chess position. The string must be valid FEN; otherwise, the function returns an error code.
- **Output**: Returns 0 if the initialization is successful, or 1 if the FEN string is invalid.
- **See Also**: [`chessInitFenInPlace`](<../../src/chesslib/chess.c.md#chessinitfeninplace>)  (Implementation)


---
### chessFree<!-- {{#callable_declaration:chessFree}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L43>)

Frees a chess game and all its components.
- **Description**: Use this function to release all resources associated with a chess game when it is no longer needed. This includes freeing memory allocated for the board history, move history, and current legal moves. It is important to call this function to prevent memory leaks after you finish using a chess game object. Ensure that the pointer to the chess game is valid and not null before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` structure that represents the chess game to free. Must not be null. The function will free all associated resources and the `chess` structure itself.
- **Output**: None
- **See Also**: [`chessFree`](<../../src/chesslib/chess.c.md#chessfree>)  (Implementation)


---
### chessGetBoard<!-- {{#callable_declaration:chessGetBoard}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L46>)

Retrieves the current board state from a chess game.
- **Description**: Use this function to obtain the current board state of a chess game. It is useful for inspecting the current position of pieces on the board. Ensure that the `chess` object is properly initialized before calling this function. The function does not modify the state of the game or the board.
- **Inputs**:
    - `c`: A pointer to a `chess` object. Must not be null. The `chess` object should be initialized and represent a valid game state.
- **Output**: A pointer to a `board` object representing the current board state. The caller does not own this pointer and should not attempt to free it.
- **See Also**: [`chessGetBoard`](<../../src/chesslib/chess.c.md#chessgetboard>)  (Implementation)


---
### chessGetLegalMoves<!-- {{#callable_declaration:chessGetLegalMoves}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L47>)

Retrieves the list of legal moves for the current game state.
- **Description**: Use this function to obtain the current list of legal moves in a chess game. This function is useful when you need to determine the possible moves a player can make from the current board position. It is important to ensure that the chess game is properly initialized before calling this function to avoid undefined behavior. The function does not modify the game state or the list of moves.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The caller retains ownership of the `chess` structure.
- **Output**: A pointer to a `moveList` structure containing the legal moves for the current game state. The caller must not modify or free this list.
- **See Also**: [`chessGetLegalMoves`](<../../src/chesslib/chess.c.md#chessgetlegalmoves>)  (Implementation)


---
### chessGetTerminalState<!-- {{#callable_declaration:chessGetTerminalState}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L48>)

Retrieves the current terminal state of a chess game.
- **Description**: Use this function to obtain the current terminal state of a chess game, which indicates whether the game is ongoing, in checkmate, or drawn under various conditions. This function is useful for determining the game's status at any point during play. Ensure that the `chess` structure is properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` structure. Must not be null. The `chess` structure should be initialized before use.
- **Output**: Returns the `terminalState` of the chess game, indicating the current status such as ongoing, checkmate, or various draw conditions.
- **See Also**: [`chessGetTerminalState`](<../../src/chesslib/chess.c.md#chessgetterminalstate>)  (Implementation)


---
### chessGetBoardHistory<!-- {{#callable_declaration:chessGetBoardHistory}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L50>)

Retrieves the history of board states in a chess game.
- **Description**: Use this function to obtain a list of all board states that have occurred during the course of a chess game. This can be useful for analyzing the progression of the game or for implementing features that require knowledge of past board configurations. Ensure that the chess game object is properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game. Must not be null. The caller retains ownership of this pointer.
- **Output**: A pointer to a `boardList` structure containing the history of board states. The caller does not own this pointer and should not attempt to free it.
- **See Also**: [`chessGetBoardHistory`](<../../src/chesslib/chess.c.md#chessgetboardhistory>)  (Implementation)


---
### chessGetMoveHistory<!-- {{#callable_declaration:chessGetMoveHistory}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L51>)

Retrieves the move history of a chess game.
- **Description**: Use this function to obtain the list of moves that have been played in a chess game. This function is useful for analyzing the sequence of moves or for displaying the move history to users. Ensure that the chess game object is properly initialized before calling this function. The function does not modify the state of the chess game.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the chess game. Must not be null. The caller retains ownership of the `chess` object.
- **Output**: A pointer to a `moveList` structure containing the history of moves played in the game. The caller must not modify or free this list.
- **See Also**: [`chessGetMoveHistory`](<../../src/chesslib/chess.c.md#chessgetmovehistory>)  (Implementation)


---
### chessGetRepetitions<!-- {{#callable_declaration:chessGetRepetitions}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L52>)

Retrieves the number of times the current board position has been repeated.
- **Description**: Use this function to obtain the count of how many times the current board position has occurred in the game. This can be useful for determining draw conditions such as the threefold repetition rule. Ensure that the `chess` structure is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `chess` structure. Must not be null. The structure should be initialized before use.
- **Output**: Returns an 8-bit unsigned integer representing the number of repetitions of the current board position.
- **See Also**: [`chessGetRepetitions`](<../../src/chesslib/chess.c.md#chessgetrepetitions>)  (Implementation)


---
### chessPlayMove<!-- {{#callable_declaration:chessPlayMove}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L55>)

Attempts to play a specified move in a chess game.
- **Description**: Use this function to attempt to play a move in an ongoing chess game. It checks if the game is still active and if the move is legal. If the game has ended or the move is illegal, the function returns an error code. If the move is legal, it updates the game state by adding the move to the history and recalculating the game fields. This function is useful for progressing the game by making valid moves.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null and must represent an ongoing game.
    - `m`: A `move` structure representing the move to be played. The move must be legal in the current game state.
- **Output**: Returns 0 if the move is successfully played, or 1 if the move is illegal or the game has already ended.
- **See Also**: [`chessPlayMove`](<../../src/chesslib/chess.c.md#chessplaymove>)  (Implementation)


---
### chessUndo<!-- {{#callable_declaration:chessUndo}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L57>)

Undoes the last move or draw claim in a chess game.
- **Description**: Use this function to revert the last move or draw claim in a chess game. It is useful when you need to backtrack or correct a move. The function must be called on a valid `chess` object that has at least one move in its history. If the game is in a terminal state due to a draw claim, the state is reset to ongoing. If there are no moves to undo, the function returns an error code.
- **Inputs**:
    - `c`: A pointer to a `chess` object. This object must be initialized and must not be null. The function expects that the game has at least one move in its history; otherwise, it returns an error code.
- **Output**: Returns 0 if the undo operation is successful, or 1 if there are no moves to undo.
- **See Also**: [`chessUndo`](<../../src/chesslib/chess.c.md#chessundo>)  (Implementation)


---
### chessGetPiece<!-- {{#callable_declaration:chessGetPiece}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L60>)

Retrieves the piece located at a specified square on the chessboard.
- **Description**: Use this function to get the piece located at a specific square on the chessboard within a chess game. This function is useful when you need to know what piece, if any, occupies a particular square. It is important to ensure that the `chess` structure is properly initialized before calling this function to avoid undefined behavior. The function does not modify the state of the chess game.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current state of the chess game. Must not be null and must point to a valid, initialized chess game.
    - `s`: A `sq` value representing the square on the chessboard from which to retrieve the piece. The value must be within the valid range of squares on a chessboard.
- **Output**: Returns the `piece` located at the specified square `s`. If the square is empty, the return value indicates no piece is present.
- **See Also**: [`chessGetPiece`](<../../src/chesslib/chess.c.md#chessgetpiece>)  (Implementation)


---
### chessGetPlayer<!-- {{#callable_declaration:chessGetPlayer}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L61>)

Gets the current player's color in a chess game.
- **Description**: Use this function to determine which player's turn it is in a chess game. It returns the color of the player who is currently expected to make a move. This function is useful for game logic that depends on knowing the active player. Ensure that the chess game structure is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current state of the chess game. Must not be null. The caller retains ownership of the `chess` structure.
- **Output**: Returns a `pieceColor` value indicating the color of the current player.
- **See Also**: [`chessGetPlayer`](<../../src/chesslib/chess.c.md#chessgetplayer>)  (Implementation)


---
### chessGetCastleState<!-- {{#callable_declaration:chessGetCastleState}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L62>)

Retrieves the current castling rights state.
- **Description**: Use this function to get the current state of castling rights in a chess game. It provides information about whether castling is still possible for either player. This function is useful when you need to check the castling status as part of game logic or display purposes. Ensure that the `chess` structure is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The caller retains ownership and is responsible for ensuring the structure is initialized.
- **Output**: Returns an 8-bit unsigned integer representing the castling rights state. The specific meaning of each bit is determined by the implementation.
- **See Also**: [`chessGetCastleState`](<../../src/chesslib/chess.c.md#chessgetcastlestate>)  (Implementation)


---
### chessGetEpTarget<!-- {{#callable_declaration:chessGetEpTarget}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L63>)

Retrieves the en passant target square from the chess game.
- **Description**: Use this function to get the en passant target square from a chess game. This function is useful when you need to determine if an en passant capture is possible in the current game state. It is important to ensure that the chess game is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current state of the chess game. Must not be null. The caller retains ownership of the `chess` structure.
- **Output**: The en passant target square as a value of type `sq`. If there is no en passant target, the return value will indicate this (typically as a special value or invalid square).
- **See Also**: [`chessGetEpTarget`](<../../src/chesslib/chess.c.md#chessgeteptarget>)  (Implementation)


---
### chessGetHalfMoveClock<!-- {{#callable_declaration:chessGetHalfMoveClock}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L64>)

Retrieves the half-move clock from the chess game state.
- **Description**: Use this function to obtain the current half-move clock value from a chess game. The half-move clock counts the number of half-moves (or ply) since the last capture or pawn advance, which is relevant for enforcing the fifty-move rule in chess. This function is useful when you need to check the progress towards a draw by the fifty-move rule. Ensure that the chess game object is properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current state of the chess game. Must not be null. The function does not modify the chess game object.
- **Output**: Returns the current half-move clock as an unsigned integer.
- **See Also**: [`chessGetHalfMoveClock`](<../../src/chesslib/chess.c.md#chessgethalfmoveclock>)  (Implementation)


---
### chessGetMoveNumber<!-- {{#callable_declaration:chessGetMoveNumber}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L65>)

Retrieves the current move number in a chess game.
- **Description**: Use this function to obtain the current move number from a chess game instance. This is useful for tracking the progress of the game or for display purposes. The function requires a valid pointer to a `chess` structure, which must be properly initialized before calling this function. Ensure that the `chess` pointer is not null to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `chess` structure. Must not be null and must point to a valid, initialized chess game instance.
- **Output**: Returns the current move number as an unsigned integer.
- **See Also**: [`chessGetMoveNumber`](<../../src/chesslib/chess.c.md#chessgetmovenumber>)  (Implementation)


---
### chessGetMoveHistoryUci<!-- {{#callable_declaration:chessGetMoveHistoryUci}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L68>)

Returns a string of all moves in the game's history in UCI format.
- **Description**: Use this function to obtain a string representation of all moves made in a chess game, formatted according to the Universal Chess Interface (UCI) standard. This function is useful for logging or analyzing the sequence of moves in a game. The returned string must be freed by the caller to avoid memory leaks. Ensure that the `chess` object is valid and properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` object representing the current state of the chess game. Must not be null. The function assumes that the `chess` object is valid and initialized.
- **Output**: A dynamically allocated string containing the UCI representation of the move history. The caller is responsible for freeing this string.
- **See Also**: [`chessGetMoveHistoryUci`](<../../src/chesslib/chess.c.md#chessgetmovehistoryuci>)  (Implementation)


---
### chessIsInCheck<!-- {{#callable_declaration:chessIsInCheck}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L70>)

Checks if the current player is in check.
- **Description**: Use this function to determine if the current player in a chess game is in a state of check. This function is useful for validating game states and ensuring that moves comply with chess rules. It must be called with a valid `chess` object that represents an ongoing game. The function does not modify the game state or any input parameters.
- **Inputs**:
    - `c`: A pointer to a `chess` object representing the current game state. Must not be null. The caller retains ownership of the `chess` object.
- **Output**: Returns 1 if the current player is in check, otherwise returns 0.
- **See Also**: [`chessIsInCheck`](<../../src/chesslib/chess.c.md#chessisincheck>)  (Implementation)


---
### chessIsSquareAttacked<!-- {{#callable_declaration:chessIsSquareAttacked}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L71>)

Checks if a square is attacked by the opponent.
- **Description**: Use this function to determine if a specific square on the chessboard is under attack by the opponent's pieces. This function is useful for evaluating the safety of a square before making a move. It requires a valid chess game state and a square identifier. The function does not modify the game state or any input parameters.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null.
    - `s`: An identifier for the square to check. Must be a valid square within the board's range.
- **Output**: Returns 1 if the square is attacked by the opponent, otherwise returns 0.
- **See Also**: [`chessIsSquareAttacked`](<../../src/chesslib/chess.c.md#chessissquareattacked>)  (Implementation)


---
### chessGetFen<!-- {{#callable_declaration:chessGetFen}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L72>)

Returns a string containing the FEN representation of the current chess game state.
- **Description**: Use this function to obtain the current state of a chess game in Forsyth-Edwards Notation (FEN). This is useful for saving the game state or for interoperability with other chess software that uses FEN. The returned string must be freed by the caller to avoid memory leaks. Ensure that the `chess` object is properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` object representing the current game state. Must not be null. The function does not modify the `chess` object.
- **Output**: A dynamically allocated string containing the FEN representation of the game state. The caller is responsible for freeing this string.
- **See Also**: [`chessGetFen`](<../../src/chesslib/chess.c.md#chessgetfen>)  (Implementation)


---
### chessCanClaimDraw50<!-- {{#callable_declaration:chessCanClaimDraw50}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L76>)

Checks if a draw can be claimed under the 50-move rule.
- **Description**: Use this function to determine if a player can claim a draw based on the 50-move rule in a chess game. This rule allows a player to claim a draw if no pawn has been moved and no capture has been made in the last 50 moves by each player, which corresponds to 100 half-moves. The function checks the current state of the game and the half-move clock to decide if the draw condition is met. It is important to call this function before attempting to claim a draw to ensure the conditions are satisfied.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The function assumes the game is ongoing and checks the half-move clock to determine draw eligibility.
- **Output**: Returns 1 if a draw can be claimed under the 50-move rule, otherwise returns 0.
- **See Also**: [`chessCanClaimDraw50`](<../../src/chesslib/chess.c.md#chesscanclaimdraw50>)  (Implementation)


---
### chessCanClaimDrawThreefold<!-- {{#callable_declaration:chessCanClaimDrawThreefold}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L77>)

Checks if a draw can be claimed due to threefold repetition.
- **Description**: Use this function to determine if the current chess game state allows a player to claim a draw based on the threefold repetition rule. This function checks if the game is ongoing and if the current board position has been repeated at least three times. It is important to call this function before attempting to claim a draw to ensure the conditions are met.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The function assumes the game has been properly initialized and is in a valid state.
- **Output**: Returns 1 if a draw can be claimed due to threefold repetition, otherwise returns 0.
- **See Also**: [`chessCanClaimDrawThreefold`](<../../src/chesslib/chess.c.md#chesscanclaimdrawthreefold>)  (Implementation)


---
### chessClaimDraw50<!-- {{#callable_declaration:chessClaimDraw50}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L78>)

Claims a draw under the 50-move rule if possible.
- **Description**: Use this function to claim a draw in a chess game when the 50-move rule applies. The function checks if the draw can be claimed and updates the game's terminal state accordingly. It must be called on a valid `chess` object that represents an ongoing game. Ensure that the game state allows for a draw claim under the 50-move rule before calling this function, as it will only update the terminal state if the conditions are met.
- **Inputs**:
    - `c`: A pointer to a `chess` object representing the current game state. Must not be null. The function checks if a draw can be claimed and modifies the terminal state if applicable.
- **Output**: None
- **See Also**: [`chessClaimDraw50`](<../../src/chesslib/chess.c.md#chessclaimdraw50>)  (Implementation)


---
### chessClaimDrawThreefold<!-- {{#callable_declaration:chessClaimDrawThreefold}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L79>)

Claims a draw by threefold repetition if possible.
- **Description**: Use this function to claim a draw in a chess game when the same position has occurred three times. This function checks if the draw condition is met and updates the game's terminal state to indicate a draw by threefold repetition. It must be called on a valid chess game instance. Ensure that the game state allows for a draw claim before calling this function, as it will only update the terminal state if the condition is met.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The function checks if a draw by threefold repetition can be claimed and modifies the terminal state if applicable.
- **Output**: None
- **See Also**: [`chessClaimDrawThreefold`](<../../src/chesslib/chess.c.md#chessclaimdrawthreefold>)  (Implementation)


---
### chessCalculateFields<!-- {{#callable_declaration:chessCalculateFields}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L82>)

Updates the legal moves, repetition count, and terminal state of a chess game.
- **Description**: Use this function to update the state of a chess game after a move. It calculates the current legal moves, updates the repetition count of the current board position, and determines the terminal state of the game. This function must be called after each move to ensure the game state is accurate. It handles special conditions such as checkmate, stalemate, and various draw conditions. The function assumes that the chess game structure is properly initialized and that the board history is correctly maintained.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The function updates this structure with new legal moves, repetition count, and terminal state.
- **Output**: None
- **See Also**: [`chessCalculateFields`](<../../src/chesslib/chess.c.md#chesscalculatefields>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)