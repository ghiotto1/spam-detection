<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Chess game definitions and functions for creating, managing, and querying chess game states.

# Purpose
The code defines a C module for managing a chess game, providing functionality to create, initialize, and manipulate a chess game state. It includes the `chess` structure, which holds the current legal moves, terminal state, board history, move history, and repetition count. The module offers functions to create a new chess game, either from scratch or from a given FEN (Forsyth-Edwards Notation) string, and to free the resources associated with a chess game. It also provides functions to retrieve various aspects of the game state, such as the current board, legal moves, terminal state, and move history.

The module includes functions to play and undo moves, check the game's status (such as whether a player is in check or if a square is attacked), and handle draw claims based on the 50-move rule or threefold repetition. Additionally, it mirrors some functions from the `board` structure for convenience, allowing access to specific game details like the piece at a square, the current player, and castling rights. The module is designed to be part of a larger chess library, as indicated by its inclusion of headers from the `chesslib` directory, and it provides a public API for interacting with a chess game programmatically.
# Imports and Dependencies

---
- `chesslib/boardlist.h`
- `chesslib/movelist.h`
- `chesslib/squareset.h`


# Data Structures

---
### terminalState
- **Type**: ``enum``
- **Members**:
    - ``tsOngoing``: Indicates the game is still ongoing.
    - ``tsCheckmate``: Indicates the game has ended in checkmate.
    - ``tsDrawStalemate``: Indicates the game has ended in a stalemate draw.
    - ``tsDrawClaimed50MoveRule``: Indicates a draw has been claimed due to the 50-move rule.
    - ``tsDraw75MoveRule``: Indicates a draw has occurred due to the 75-move rule.
    - ``tsDrawClaimedThreefold``: Indicates a draw has been claimed due to threefold repetition.
    - ``tsDrawFivefold``: Indicates a draw has occurred due to fivefold repetition.
    - ``tsDrawInsufficient``: Indicates a draw due to insufficient material to checkmate.
- **Description**: Represents the terminal state of a chess game, indicating whether the game is ongoing, has ended in checkmate, or has ended in a draw due to various rules such as stalemate, the 50-move rule, threefold repetition, or insufficient material.


---
### chess
- **Type**: ``struct``
- **Members**:
    - ``currentLegalMoves``: A pointer to a `moveList` that contains the current legal moves in the game.
    - ``terminal``: An enumeration of type `terminalState` that indicates the current state of the game, such as ongoing or checkmate.
    - ``boardHistory``: A pointer to a `boardList` that records the history of board states throughout the game.
    - ``moveHistory``: A pointer to a `moveList` that records the history of moves made in the game.
    - ``repetitions``: A `uint8_t` that counts how many times the current board position has occurred.
- **Description**: Represents the state of a chess game, including the current legal moves, the terminal state of the game, the history of board states and moves, and the number of times the current position has been repeated. This structure is used to manage and track the progress of a chess game, providing functions to initialize, update, and query the game state.


# Function Declarations (Public API)

---
### chessCreate<!-- {{#callable_declaration:chessCreate}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L34>)

Creates and initializes a new chess game.
- **Description**: Use this function to start a new chess game with the standard initial position. It initializes all necessary components for a chess game and returns a pointer to the newly created game structure. The caller is responsible for freeing the allocated memory using `chessFree` when the game is no longer needed. This function does not require any parameters and will not return a null pointer under normal circumstances.
- **Inputs**: None
- **Output**: Returns a pointer to a `chess` structure representing the initialized game.
- **See Also**: [`chessCreate`](<../../src/chesslib/chess.c.md#chesscreate>)  (Implementation)


---
### chessCreateFen<!-- {{#callable_declaration:chessCreateFen}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L35>)

Creates a chess game from a FEN string.
- **Description**: Use this function to create and initialize a new chess game based on a given FEN (Forsyth-Edwards Notation) string. This function allocates memory for a new `chess` structure and initializes it using the provided FEN string. If the FEN string is invalid, the function returns `NULL` and the allocated memory is freed. Ensure to free the returned `chess` structure using `chessFree` when it is no longer needed to avoid memory leaks.
- **Inputs**:
    - `fen`: A pointer to a null-terminated string containing the FEN representation of a chess position. The string must be valid FEN; otherwise, the function returns `NULL`. The caller retains ownership of the string.
- **Output**: A pointer to an initialized `chess` structure if the FEN is valid, or `NULL` if the FEN is invalid.
- **See Also**: [`chessCreateFen`](<../../src/chesslib/chess.c.md#chesscreatefen>)  (Implementation)


---
### chessInitInPlace<!-- {{#callable_declaration:chessInitInPlace}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L38>)

Initializes a chess game to the standard starting position.
- **Description**: Use this function to set up a chess game to the standard initial position. This function must be called on a valid `chess` structure before using it in a game. It does not allocate memory, so the `chess` structure must be properly allocated and passed to the function. This function is useful when you want to reset a game to the starting position without creating a new `chess` structure.
- **Inputs**:
    - `c`: A pointer to a `chess` structure that must be allocated before calling this function. The function assumes the pointer is valid and does not perform null checks.
- **Output**: None
- **See Also**: [`chessInitInPlace`](<../../src/chesslib/chess.c.md#chessinitinplace>)  (Implementation)


---
### chessInitFenInPlace<!-- {{#callable_declaration:chessInitFenInPlace}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L40>)

Initializes a chess game with a given FEN string.
- **Description**: Use this function to initialize a chess game state from a given FEN (Forsyth-Edwards Notation) string. It sets up the board and game state according to the FEN provided. This function must be called on a valid `chess` structure. If the FEN string is invalid, the function returns an error code and does not modify the game state. Ensure that the `chess` structure is properly allocated before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` structure that will be initialized. Must not be null and must be allocated before calling this function. The function modifies this structure if the FEN is valid.
    - `fen`: A pointer to a null-terminated string containing the FEN representation of the chess game state. Must not be null. If the FEN is invalid, the function returns an error code and does not modify the `chess` structure.
- **Output**: Returns 0 if the FEN is valid and the game state is successfully initialized. Returns 1 if the FEN is invalid, and the game state is not modified.
- **See Also**: [`chessInitFenInPlace`](<../../src/chesslib/chess.c.md#chessinitfeninplace>)  (Implementation)


---
### chessFree<!-- {{#callable_declaration:chessFree}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L43>)

Frees a chess game and all its components.
- **Description**: Use this function to release all resources associated with a `chess` game structure when it is no longer needed. This function deallocates memory for the chess game and its internal components, such as board history and move history. It is important to call this function to prevent memory leaks after you finish using a `chess` object. Ensure that the pointer to the `chess` structure is valid and not null before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` structure that must be freed. The pointer must not be null, and the caller must ensure that it points to a valid `chess` object. After calling this function, the pointer becomes invalid and should not be used.
- **Output**: None
- **See Also**: [`chessFree`](<../../src/chesslib/chess.c.md#chessfree>)  (Implementation)


---
### chessGetBoard<!-- {{#callable_declaration:chessGetBoard}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L46>)

Retrieves the current board state from a chess game.
- **Description**: Use this function to obtain the current board state of a chess game. It is important to ensure that the `chess` structure is properly initialized before calling this function. The function does not modify the state of the game or the board. It provides a direct reference to the current board, so any changes to the board will affect the game state.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the game. Must not be null. The `chess` structure must be initialized before use.
- **Output**: Returns a pointer to the `board` structure representing the current board state of the game.
- **See Also**: [`chessGetBoard`](<../../src/chesslib/chess.c.md#chessgetboard>)  (Implementation)


---
### chessGetLegalMoves<!-- {{#callable_declaration:chessGetLegalMoves}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L47>)

Retrieves the list of legal moves for the current game state.
- **Description**: Use this function to obtain the current list of legal moves available in the given chess game state. This function is useful when you need to determine the possible moves a player can make at any point in the game. Ensure that the chess game is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The caller retains ownership of this pointer.
- **Output**: Returns a pointer to a `moveList` structure containing the legal moves for the current game state. The caller does not own this pointer and should not attempt to free it.
- **See Also**: [`chessGetLegalMoves`](<../../src/chesslib/chess.c.md#chessgetlegalmoves>)  (Implementation)


---
### chessGetTerminalState<!-- {{#callable_declaration:chessGetTerminalState}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L48>)

Retrieves the current terminal state of a chess game.
- **Description**: Use this function to obtain the current terminal state of a chess game, which indicates whether the game is ongoing, in checkmate, or drawn under various conditions. This function is useful for determining the game's status at any point during play. Ensure that the `chess` structure is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `chess` structure. Must not be null. The `chess` structure should be initialized before use.
- **Output**: Returns the `terminalState` of the chess game, indicating the current status such as ongoing, checkmate, or various draw conditions.
- **See Also**: [`chessGetTerminalState`](<../../src/chesslib/chess.c.md#chessgetterminalstate>)  (Implementation)


---
### chessGetBoardHistory<!-- {{#callable_declaration:chessGetBoardHistory}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L50>)

Retrieves the history of board states in a chess game.
- **Description**: Use this function to obtain a list of all board states that have occurred during the course of a chess game. This can be useful for analyzing the progression of the game or for implementing features that require knowledge of past board configurations. Ensure that the `chess` structure is properly initialized before calling this function. The function does not modify the input or manage the memory of the returned list.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The caller retains ownership and responsibility for the memory of this structure.
- **Output**: A pointer to a `boardList` structure containing the history of board states. The caller does not assume ownership of this list.
- **See Also**: [`chessGetBoardHistory`](<../../src/chesslib/chess.c.md#chessgetboardhistory>)  (Implementation)


---
### chessGetMoveHistory<!-- {{#callable_declaration:chessGetMoveHistory}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L51>)

Retrieves the move history of a chess game.
- **Description**: Use this function to obtain the list of moves that have been played in a chess game. This function is useful for analyzing the sequence of moves or for displaying the move history to users. Ensure that the chess game object is properly initialized before calling this function. The function does not modify the state of the chess game.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the chess game. Must not be null. The caller retains ownership of the `chess` object.
- **Output**: A pointer to a `moveList` structure containing the history of moves played in the game. The caller must not modify or free this list directly.
- **See Also**: [`chessGetMoveHistory`](<../../src/chesslib/chess.c.md#chessgetmovehistory>)  (Implementation)


---
### chessGetRepetitions<!-- {{#callable_declaration:chessGetRepetitions}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L52>)

Retrieves the number of times the current board position has been repeated.
- **Description**: Use this function to get the count of how many times the current board position has occurred in the game. This can help in determining if a draw can be claimed due to repetition. Ensure that the `chess` structure is properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` structure. Must not be null and must point to a valid, initialized chess game instance.
- **Output**: Returns an 8-bit unsigned integer representing the number of repetitions of the current board position.
- **See Also**: [`chessGetRepetitions`](<../../src/chesslib/chess.c.md#chessgetrepetitions>)  (Implementation)


---
### chessPlayMove<!-- {{#callable_declaration:chessPlayMove}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L55>)

Attempts to play a move in a chess game.
- **Description**: Use this function to attempt to play a specified move in an ongoing chess game. The function checks if the game is still active and if the move is legal. If the move is legal, it updates the game state by applying the move, adding it to the move history, and recalculating the game fields. If the game is not ongoing or the move is illegal, the function returns an error code. This function must be called with a valid chess game structure and a move that is part of the current legal moves.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null and must represent an ongoing game.
    - `m`: A `move` structure representing the move to be played. The move must be part of the current legal moves for the game.
- **Output**: Returns 0 if the move is successfully played, or 1 if the move is illegal or the game is not ongoing.
- **See Also**: [`chessPlayMove`](<../../src/chesslib/chess.c.md#chessplaymove>)  (Implementation)


---
### chessUndo<!-- {{#callable_declaration:chessUndo}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L57>)

Undoes the last move or draw claim in a chess game.
- **Description**: Use this function to revert the last move or draw claim in a chess game. It is applicable when you need to backtrack a move or undo a draw claim due to the threefold repetition or 50-move rule. Ensure that there is at least one move in the history before calling this function, as it will return an error if no moves are available to undo. The function also resets the terminal state to ongoing if a draw was claimed. Call this function when you need to correct a move or adjust the game state.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The function will return an error if the game has no moves to undo.
- **Output**: Returns 0 if the undo operation is successful, or 1 if there are no moves to undo.
- **See Also**: [`chessUndo`](<../../src/chesslib/chess.c.md#chessundo>)  (Implementation)


---
### chessGetPiece<!-- {{#callable_declaration:chessGetPiece}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L60>)

Retrieves the piece located at a specified square on the chessboard.
- **Description**: Use this function to get the piece located at a specific square on the chessboard within a chess game. This function is useful when you need to determine which piece, if any, occupies a given square. It is important to ensure that the `chess` game structure is properly initialized before calling this function. The function does not modify the state of the game or the board.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current state of the chess game. Must not be null and must point to a valid, initialized chess game.
    - `s`: A `sq` value representing the square on the chessboard from which to retrieve the piece. The value should be within the valid range of squares on a chessboard.
- **Output**: Returns the `piece` located at the specified square `s`. If the square is empty, a value representing no piece is returned.
- **See Also**: [`chessGetPiece`](<../../src/chesslib/chess.c.md#chessgetpiece>)  (Implementation)


---
### chessGetPlayer<!-- {{#callable_declaration:chessGetPlayer}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L61>)

Gets the current player's color in the chess game.
- **Description**: Use this function to determine which player's turn it is in the current state of the chess game. This function is useful for game logic that depends on the active player, such as deciding which moves are legal or which pieces can be moved. Ensure that the `chess` structure is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The caller retains ownership of the `chess` structure.
- **Output**: Returns the color of the current player as a `pieceColor` enumeration value.
- **See Also**: [`chessGetPlayer`](<../../src/chesslib/chess.c.md#chessgetplayer>)  (Implementation)


---
### chessGetCastleState<!-- {{#callable_declaration:chessGetCastleState}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L62>)

Retrieves the castling state of the chess game.
- **Description**: Use this function to get the current castling rights in a chess game. It provides information about whether castling is still possible for either player. This function is useful when you need to check the castling status as part of game logic or display purposes. Ensure that the `chess` structure is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The caller retains ownership of the `chess` structure.
- **Output**: Returns an 8-bit unsigned integer representing the castling state. The specific bits and their meanings are determined by the implementation.
- **See Also**: [`chessGetCastleState`](<../../src/chesslib/chess.c.md#chessgetcastlestate>)  (Implementation)


---
### chessGetEpTarget<!-- {{#callable_declaration:chessGetEpTarget}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L63>)

Gets the en passant target square for the current board state.
- **Description**: Use this function to obtain the en passant target square from the current board state in a chess game. This function is useful when you need to determine if an en passant capture is possible. It is important to ensure that the `chess` structure is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The caller retains ownership of the `chess` structure.
- **Output**: Returns the en passant target square as a `sq` type. If there is no en passant target, the return value indicates this (typically as a special value or invalid square).
- **See Also**: [`chessGetEpTarget`](<../../src/chesslib/chess.c.md#chessgeteptarget>)  (Implementation)


---
### chessGetHalfMoveClock<!-- {{#callable_declaration:chessGetHalfMoveClock}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L64>)

Retrieves the half-move clock from the chess game state.
- **Description**: Use this function to get the current half-move clock value from a chess game. The half-move clock counts the number of half-moves (or ply) since the last capture or pawn advance, which is important for determining draw conditions such as the fifty-move rule. This function requires a valid `chess` game object and does not modify the game state.
- **Inputs**:
    - `c`: A pointer to a `chess` game object. Must not be null. The function does not modify the object.
- **Output**: Returns the current half-move clock as an unsigned integer.
- **See Also**: [`chessGetHalfMoveClock`](<../../src/chesslib/chess.c.md#chessgethalfmoveclock>)  (Implementation)


---
### chessGetMoveNumber<!-- {{#callable_declaration:chessGetMoveNumber}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L65>)

Retrieves the current move number in the chess game.
- **Description**: Use this function to obtain the current move number of an ongoing chess game. This function is useful for tracking the progress of the game and is typically called after initializing the game or after making moves. Ensure that the chess game structure is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null and must point to a valid, initialized chess game.
- **Output**: Returns the current move number as an unsigned integer, indicating how many moves have been made in the game.
- **See Also**: [`chessGetMoveNumber`](<../../src/chesslib/chess.c.md#chessgetmovenumber>)  (Implementation)


---
### chessGetMoveHistoryUci<!-- {{#callable_declaration:chessGetMoveHistoryUci}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L68>)

Returns a string of all moves in the game's history in UCI format.
- **Description**: Use this function to obtain a string representation of all moves made in a chess game, formatted according to the Universal Chess Interface (UCI) standard. This function is useful for logging or analyzing the sequence of moves in a game. The returned string must be freed by the caller to avoid memory leaks. Ensure that the `chess` object is valid and properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` object representing the current state of the chess game. Must not be null. The function assumes that the `chess` object is valid and initialized.
- **Output**: A dynamically allocated string containing the UCI representation of the move history. The caller is responsible for freeing this string.
- **See Also**: [`chessGetMoveHistoryUci`](<../../src/chesslib/chess.c.md#chessgetmovehistoryuci>)  (Implementation)


---
### chessIsInCheck<!-- {{#callable_declaration:chessIsInCheck}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L70>)

Checks if the current player is in check.
- **Description**: Use this function to determine if the current player in a chess game is in check. This function is useful for validating game states and ensuring that moves comply with chess rules. It must be called with a valid `chess` object that represents an ongoing game. The function does not modify the game state or any input parameters.
- **Inputs**:
    - `c`: A pointer to a `chess` object representing the current game state. Must not be null. The function assumes that the `chess` object is properly initialized and represents a valid game state.
- **Output**: Returns 1 if the current player is in check, otherwise returns 0.
- **See Also**: [`chessIsInCheck`](<../../src/chesslib/chess.c.md#chessisincheck>)  (Implementation)


---
### chessIsSquareAttacked<!-- {{#callable_declaration:chessIsSquareAttacked}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L71>)

Checks if a square is attacked by the opponent.
- **Description**: Use this function to determine if a specific square on the chessboard is under attack by the opponent's pieces. This function is useful for evaluating the safety of a square before making a move. It requires a valid chess game state and a square identifier. Ensure that the chess game is properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null and must point to a valid, initialized chess game.
    - `s`: An identifier for the square to check. Must be a valid square within the chessboard.
- **Output**: Returns 1 if the square is attacked by the opponent, otherwise returns 0.
- **See Also**: [`chessIsSquareAttacked`](<../../src/chesslib/chess.c.md#chessissquareattacked>)  (Implementation)


---
### chessGetFen<!-- {{#callable_declaration:chessGetFen}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L72>)

Returns a string containing the FEN representation of the current chess game state.
- **Description**: Use this function to obtain the current state of a chess game in Forsyth-Edwards Notation (FEN). This is useful for saving the game state or for analysis purposes. The returned string must be freed by the caller to avoid memory leaks. Ensure that the `chess` structure is properly initialized before calling this function.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The function does not modify the `chess` structure.
- **Output**: A dynamically allocated string containing the FEN representation of the current game state. The caller is responsible for freeing this string.
- **See Also**: [`chessGetFen`](<../../src/chesslib/chess.c.md#chessgetfen>)  (Implementation)


---
### chessCanClaimDraw50<!-- {{#callable_declaration:chessCanClaimDraw50}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L76>)

Checks if a draw can be claimed under the 50-move rule.
- **Description**: Use this function to determine if a player can claim a draw based on the 50-move rule in a chess game. This rule allows a player to claim a draw if no pawn has been moved and no capture has been made in the last 50 moves by each player, which is equivalent to 100 half-moves. The function checks the current state of the game and the half-move clock to decide if the draw condition is met. It is important to call this function only when the game is ongoing.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The function assumes the game is ongoing and will not perform any action if the game is in a terminal state other than `tsOngoing`.
- **Output**: Returns 1 if a draw can be claimed under the 50-move rule, otherwise returns 0.
- **See Also**: [`chessCanClaimDraw50`](<../../src/chesslib/chess.c.md#chesscanclaimdraw50>)  (Implementation)


---
### chessCanClaimDrawThreefold<!-- {{#callable_declaration:chessCanClaimDrawThreefold}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L77>)

Checks if a draw can be claimed due to threefold repetition.
- **Description**: Use this function to determine if the current state of a chess game allows a player to claim a draw based on the threefold repetition rule. This function checks if the game is ongoing and if the current board position has been repeated at least three times. It is important to call this function before attempting to claim a draw to ensure the conditions are met.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The function assumes that the game has been properly initialized and is in a valid state.
- **Output**: Returns a non-zero value if a draw can be claimed due to threefold repetition; otherwise, returns zero.
- **See Also**: [`chessCanClaimDrawThreefold`](<../../src/chesslib/chess.c.md#chesscanclaimdrawthreefold>)  (Implementation)


---
### chessClaimDraw50<!-- {{#callable_declaration:chessClaimDraw50}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L78>)

Claims a draw under the 50-move rule if possible.
- **Description**: Use this function to claim a draw in a chess game when the 50-move rule applies. The function checks if the conditions for a draw under the 50-move rule are met and updates the game's terminal state accordingly. It must be called on a valid `chess` object that represents an ongoing game. Ensure that the game state is such that a draw can be claimed under this rule before calling the function.
- **Inputs**:
    - `c`: A pointer to a `chess` object representing the current game state. Must not be null. The function does not modify `c` if the draw cannot be claimed.
- **Output**: None
- **See Also**: [`chessClaimDraw50`](<../../src/chesslib/chess.c.md#chessclaimdraw50>)  (Implementation)


---
### chessClaimDrawThreefold<!-- {{#callable_declaration:chessClaimDrawThreefold}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L79>)

Claims a draw by threefold repetition if possible.
- **Description**: Use this function to claim a draw in a chess game when the same position has occurred three times. This function checks if the draw condition is met and updates the game's terminal state to indicate a draw by threefold repetition. It must be called when the game is in progress and the player wants to claim a draw based on the threefold repetition rule.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The function checks the game state to determine if a draw can be claimed.
- **Output**: None
- **See Also**: [`chessClaimDrawThreefold`](<../../src/chesslib/chess.c.md#chessclaimdrawthreefold>)  (Implementation)


---
### chessCalculateFields<!-- {{#callable_declaration:chessCalculateFields}} -->
[View Source →](<../../../../../chesslib/include/chesslib/chess.h#L82>)

Updates the legal moves, repetition count, and terminal state of a chess game.
- **Description**: Use this function to update the state of a chess game after a move. It calculates the current legal moves, counts how many times the current board position has occurred, and determines the terminal state of the game. This function must be called after each move to ensure the game state is accurate. It handles various draw conditions and checkmate scenarios.
- **Inputs**:
    - `c`: A pointer to a `chess` structure representing the current game state. Must not be null. The function updates the fields of this structure.
- **Output**: None
- **See Also**: [`chessCalculateFields`](<../../src/chesslib/chess.c.md#chesscalculatefields>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)