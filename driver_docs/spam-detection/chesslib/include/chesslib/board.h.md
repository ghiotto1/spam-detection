<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

Defines a chess board structure and functions for board initialization, manipulation, and state evaluation.

# Purpose
The code defines a C header file for managing a chess board state. It provides structures and functions to initialize, manipulate, and evaluate chess board configurations. The `board` structure is central to this file, representing the state of a chess game, including the positions of pieces, the current player, castling rights, en passant targets, and move counters. The file includes constants for initial board setup in Forsyth-Edwards Notation (FEN) and bitmask values for castling rights.

The functions in this file allow for creating and initializing a board, either from scratch or from a FEN string. They also provide functionality to set and get pieces on the board, generate possible moves, and check for conditions such as attacks, checks, and insufficient material for a checkmate. Additionally, the file includes functions to play moves on the board, compare board states, and convert the board state back to a FEN string. This header file is intended to be used in conjunction with other components of a chess library, as indicated by the inclusion of headers like `chesslib/square.h`, `chesslib/piece.h`, and `chesslib/movelist.h`.
# Imports and Dependencies

---
- `chesslib/square.h`
- `chesslib/piece.h`
- `chesslib/movelist.h`


# Data Structures

---
### board
- **Type**: ``struct``
- **Members**:
    - `pieces`: An array of 64 `piece` elements representing the chess pieces on the board.
    - `currentPlayer`: A `pieceColor` indicating the current player's turn.
    - `castleState`: A `uint8_t` bitmask that describes the castling rights.
    - `epTarget`: A `sq` representing the en passant target square.
    - `halfMoveClock`: An `unsigned int` tracking the number of half-moves since the last capture or pawn move.
    - `moveNumber`: An `unsigned int` indicating the current move number in the game.
- **Description**: Represents a chess board state, including the positions of pieces, the current player, castling rights, en passant target, half-move clock, and move number.


# Function Declarations (Public API)

---
### boardCreate<!-- {{#callable_declaration:boardCreate}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L31>)

Allocates and initializes a chess board to the starting position.
- **Description**: Use this function to create a new chess board initialized to the standard starting position. The function allocates memory for the board structure and sets up the pieces and game state according to the initial FEN string. The caller is responsible for freeing the allocated memory when the board is no longer needed. This function returns a pointer to the newly created board, or NULL if the creation fails.
- **Inputs**: None
- **Output**: A pointer to a newly allocated and initialized `board` structure, or NULL on failure.
- **See Also**: [`boardCreate`](<../../src/chesslib/board.c.md#boardcreate>)  (Implementation)


---
### boardCreateFromFen<!-- {{#callable_declaration:boardCreateFromFen}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L32>)

Allocates and initializes a chess board from a FEN string.
- **Description**: Use this function to create a new chess board initialized to a specific position described by a FEN (Forsyth-Edwards Notation) string. The function allocates memory for a new `board` structure and initializes it based on the provided FEN string. If the FEN string is invalid or initialization fails, the function returns `NULL`. The caller is responsible for freeing the allocated memory when it is no longer needed. This function is useful for setting up a board to a specific state for analysis or gameplay.
- **Inputs**:
    - `fen`: A null-terminated string in Forsyth-Edwards Notation representing the desired board state. Must not be null. If the string is invalid, the function returns `NULL`.
- **Output**: Returns a pointer to a newly allocated `board` structure initialized to the position described by the FEN string, or `NULL` if initialization fails.
- **See Also**: [`boardCreateFromFen`](<../../src/chesslib/board.c.md#boardcreatefromfen>)  (Implementation)


---
### boardInitInPlace<!-- {{#callable_declaration:boardInitInPlace}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L35>)

Initializes a chess board to the standard starting position.
- **Description**: Use this function to set up a chess board to the standard initial position for a new game. This function modifies the provided `board` structure directly and does not allocate new memory. Ensure that the `board` pointer is valid and points to an existing `board` structure before calling this function. This function does not return a value and assumes the `board` structure is properly allocated and initialized.
- **Inputs**:
    - `b`: A pointer to a `board` structure that will be initialized. Must not be null and must point to a valid `board` structure. The function does not check for null pointers, so passing a null pointer will result in undefined behavior.
- **Output**: None
- **See Also**: [`boardInitInPlace`](<../../src/chesslib/board.c.md#boardinitinplace>)  (Implementation)


---
### boardInitFromFenInPlace<!-- {{#callable_declaration:boardInitFromFenInPlace}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L36>)

Initializes a chess board from a FEN string.
- **Description**: Use this function to set up a chess board with a specific position described by a FEN (Forsyth-Edwards Notation) string. It modifies the given board in place and returns 0 on success or 1 on failure. The function expects a valid FEN string that includes piece placement, active color, castling availability, en passant target square, halfmove clock, and fullmove number. Errors in the FEN string, such as incorrect format or invalid characters, will result in an error message and a return value of 1. Ensure the board pointer is valid before calling this function.
- **Inputs**:
    - `b`: A pointer to a `board` structure that will be initialized. Must not be null, and the caller retains ownership.
    - `fen`: A null-terminated string containing the FEN representation of the chess position. Must not be null, and must be correctly formatted according to FEN standards.
- **Output**: Returns 0 if the board is successfully initialized from the FEN string, or 1 if an error occurs.
- **See Also**: [`boardInitFromFenInPlace`](<../../src/chesslib/board.c.md#boardinitfromfeninplace>)  (Implementation)


---
### boardSetPiece<!-- {{#callable_declaration:boardSetPiece}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L38>)

Sets a piece on a specified square of the board.
- **Description**: Use this function to place a chess piece on a specific square of the board. Ensure that the board is properly initialized before calling this function. This function modifies the board in place by setting the piece at the given square. It does not perform any validation on the piece or square, so ensure that the square index is within the valid range and the piece is a valid chess piece.
- **Inputs**:
    - `b`: A pointer to a `board` structure. Must not be null. The function modifies this board in place.
    - `s`: A `sq` type representing the square on the board where the piece will be placed. Must be a valid square index.
    - `p`: A `piece` type representing the chess piece to place on the board. Must be a valid chess piece.
- **Output**: None
- **See Also**: [`boardSetPiece`](<../../src/chesslib/board.c.md#boardsetpiece>)  (Implementation)


---
### boardGetPiece<!-- {{#callable_declaration:boardGetPiece}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L39>)

Retrieves the piece located at a specified square on the board.
- **Description**: Use this function to get the piece that is currently located at a specific square on a chess board. This function requires a valid board and a square as inputs. It is important to ensure that the square is within the valid range of the board, as the function does not perform range checking. The function returns the piece located at the specified square, which can be used to determine the state of the board or to make decisions in a chess game.
- **Inputs**:
    - `b`: A pointer to a `board` structure. This must not be null and must point to a valid, initialized board.
    - `s`: A `sq` type representing the square on the board. It must be a valid square within the board's range.
- **Output**: Returns the `piece` located at the specified square on the board.
- **See Also**: [`boardGetPiece`](<../../src/chesslib/board.c.md#boardgetpiece>)  (Implementation)


---
### boardGenerateMoves<!-- {{#callable_declaration:boardGenerateMoves}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L41>)

Generates all legal moves for the current player on the board.
- **Description**: Use this function to get a list of all legal moves available to the current player on the given chess board. It considers the current state of the board, including the positions of all pieces and the castling rights. The function excludes moves that would place the current player's king in check. The returned list must be freed by the caller to avoid memory leaks.
- **Inputs**:
    - `b`: A pointer to a `board` structure representing the current state of the chess game. Must not be null. The board should be properly initialized before calling this function.
- **Output**: Returns a pointer to a `moveList` containing all legal moves for the current player. The caller is responsible for freeing this list.
- **See Also**: [`boardGenerateMoves`](<../../src/chesslib/board.c.md#boardgeneratemoves>)  (Implementation)


---
### boardIsSquareAttacked<!-- {{#callable_declaration:boardIsSquareAttacked}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L43>)

Checks if a square is attacked by a specified color.
- **Description**: Use this function to determine if a specific square on the chess board is under attack by any piece of a given color. This function is useful for evaluating threats on the board, such as checking if a king is in check. Ensure that the board is properly initialized before calling this function. The function iterates over all squares to find pieces of the specified color and checks if any of them can move to the target square. It returns a non-zero value if the square is attacked, and zero if it is not.
- **Inputs**:
    - `b`: A pointer to a `board` structure representing the current state of the chess board. Must not be null and must point to a valid, initialized board.
    - `s`: The target square to check for attacks. Must be a valid square on the board.
    - `attacker`: The color of the pieces to check for attacks. Must be a valid `pieceColor` value representing either white or black.
- **Output**: Returns a non-zero value if the square is attacked by the specified color, and zero if it is not.
- **See Also**: [`boardIsSquareAttacked`](<../../src/chesslib/board.c.md#boardissquareattacked>)  (Implementation)


---
### boardIsInCheck<!-- {{#callable_declaration:boardIsInCheck}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L44>)

Checks if the current player is in check.
- **Description**: Use this function to determine if the current player on the given chess board is in check. This function is useful in scenarios where you need to validate the safety of the current player's king after a move or during move generation. Ensure that the board is properly initialized before calling this function to avoid undefined behavior.
- **Inputs**:
    - `b`: A pointer to a `board` structure representing the current state of the chess game. Must not be null. The board should be initialized before use.
- **Output**: Returns a non-zero value if the current player is in check, otherwise returns zero.
- **See Also**: [`boardIsInCheck`](<../../src/chesslib/board.c.md#boardisincheck>)  (Implementation)


---
### boardIsPlayerInCheck<!-- {{#callable_declaration:boardIsPlayerInCheck}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L45>)

Checks if a player's king is in check on the board.
- **Description**: Use this function to determine if the specified player's king is currently in check on the given chess board. This function is useful for validating game states and ensuring that moves do not leave the player's king in check. It requires a valid board and a player color as inputs. The function does not modify the board or any other state.
- **Inputs**:
    - `b`: A pointer to a `board` structure representing the current state of the chess game. Must not be null.
    - `player`: The color of the player to check, specified as a `pieceColor` value. Valid values are `pcWhite` or `pcBlack`.
- **Output**: Returns 1 if the player's king is in check, otherwise returns 0.
- **See Also**: [`boardIsPlayerInCheck`](<../../src/chesslib/board.c.md#boardisplayerincheck>)  (Implementation)


---
### boardIsInsufficientMaterial<!-- {{#callable_declaration:boardIsInsufficientMaterial}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L47>)

Checks if a chess board has insufficient material to win.
- **Description**: Use this function to determine if the current state of a chess board is such that neither player has enough material to force a checkmate. This function is useful for detecting draw conditions in chess games. It assumes that the board is correctly initialized and contains valid chess pieces. The function does not modify the board or any of its components.
- **Inputs**:
    - `b`: A pointer to a `board` structure representing the current state of the chess game. The board must be initialized and must not be null. If the board is not valid, the behavior is undefined.
- **Output**: Returns 1 if the board has insufficient material for either player to win, otherwise returns 0.
- **See Also**: [`boardIsInsufficientMaterial`](<../../src/chesslib/board.c.md#boardisinsufficientmaterial>)  (Implementation)


---
### boardPlayMove<!-- {{#callable_declaration:boardPlayMove}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L50>)

Returns a new board with the specified move applied.
- **Description**: Use this function to create a new board state by applying a move to an existing board. It allocates memory for a new board, copies the current board state, and applies the move to the new board. Ensure to free the returned board when it is no longer needed to avoid memory leaks. This function is useful when you need to preserve the original board state while exploring possible moves.
- **Inputs**:
    - `b`: A pointer to the current board. Must not be null. The function does not modify this board.
    - `m`: The move to apply to the board. Must be a valid move for the current board state.
- **Output**: A pointer to a new board with the move applied. Returns null if memory allocation fails.
- **See Also**: [`boardPlayMove`](<../../src/chesslib/board.c.md#boardplaymove>)  (Implementation)


---
### boardPlayMoveInPlace<!-- {{#callable_declaration:boardPlayMoveInPlace}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L52>)

Plays a move on the board, modifying it in place.
- **Description**: Use this function to apply a move to a chess board, updating the board's state directly. This function modifies the board in place, so it does not return a new board. It updates various board attributes such as the move number, half-move clock, castling rights, and en passant target square based on the move played. Ensure the board is properly initialized before calling this function. The function handles special moves like castling and en passant, and switches the current player after the move.
- **Inputs**:
    - `b`: A pointer to a `board` structure representing the current state of the chess game. Must not be null. The function modifies this board directly.
    - `m`: A `move` structure representing the move to be played. The move must be valid within the context of the current board state.
- **Output**: None
- **See Also**: [`boardPlayMoveInPlace`](<../../src/chesslib/board.c.md#boardplaymoveinplace>)  (Implementation)


---
### boardEq<!-- {{#callable_declaration:boardEq}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L55>)

Checks if two boards are equal in all aspects.
- **Description**: Use this function to determine if two `board` structures represent the same game state. It compares all relevant attributes of the boards, including the current player, castle state, en passant target square, half-move clock, move number, and the arrangement of pieces. This function is useful when you need to verify that two boards are identical in every detail. Ensure that both `board` pointers are valid and initialized before calling this function.
- **Inputs**:
    - `b1`: A pointer to the first `board` structure to compare. Must not be null and must point to a valid, initialized `board`.
    - `b2`: A pointer to the second `board` structure to compare. Must not be null and must point to a valid, initialized `board`.
- **Output**: Returns `1` if the boards are equal in all aspects, otherwise returns `0`.
- **See Also**: [`boardEq`](<../../src/chesslib/board.c.md#boardeq>)  (Implementation)


---
### boardEqContext<!-- {{#callable_declaration:boardEqContext}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L57>)

Checks if two boards are equal without considering counters and filtering the en passant target square.
- **Description**: Use this function to compare two chess boards to determine if they are equal in terms of player turn, castle state, piece positions, and valid en passant target squares. It does not consider the half-move clock or move number in the comparison. This function is useful when you need to check board equality while ignoring certain state details that do not affect the immediate gameplay.
- **Inputs**:
    - `b1`: A pointer to the first `board` structure to compare. Must not be null. The function assumes the board is properly initialized.
    - `b2`: A pointer to the second `board` structure to compare. Must not be null. The function assumes the board is properly initialized.
- **Output**: Returns `1` if the boards are considered equal under the specified conditions, otherwise returns `0`.
- **See Also**: [`boardEqContext`](<../../src/chesslib/board.c.md#boardeqcontext>)  (Implementation)


---
### boardGetFen<!-- {{#callable_declaration:boardGetFen}} -->
[View Source →](<../../../../../chesslib/include/chesslib/board.h#L59>)

Generates a FEN string representation of the board state.
- **Description**: Use this function to obtain a string in Forsyth-Edwards Notation (FEN) that represents the current state of a chess board. This function allocates memory for the FEN string, which the caller must free after use. It includes information about piece placement, active color, castling availability, en passant target square, halfmove clock, and fullmove number. Ensure that the input board is properly initialized before calling this function.
- **Inputs**:
    - `b`: A pointer to a `board` structure representing the current state of the chess game. Must not be null and should be properly initialized before use.
- **Output**: A dynamically allocated string containing the FEN representation of the board. The caller is responsible for freeing this memory.
- **See Also**: [`boardGetFen`](<../../src/chesslib/board.c.md#boardgetfen>)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)